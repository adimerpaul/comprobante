(function(t){function e(e){for(var a,l,r=e[0],s=e[1],c=e[2],d=0,m=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&m.push(n[l][0]),n[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],a=!0,l=1;l<o.length;l++){var s=o[l];0!==n[s]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var a={},n={1:0},i=[];function l(t){return r.p+"js/"+({}[t]||t)+"."+{2:"4e155b97"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){var e=[],o=n[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,a){o=n[t]=[e,a]}));e.push(o[2]=a);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=l(t);var c=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(d);var o=n[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,o[1](c)}n[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var u=c;i.push([0,0]),o()})({0:function(t,e,o){t.exports=o("2f39")},"17c4":function(t,e,o){"use strict";o("6cce")},"2f39":function(t,e,o){"use strict";o.r(e);var a=o("c973"),n=o.n(a),i=(o("96cf"),o("ac1f"),o("5319"),o("5c7d"),o("573e"),o("7d6e"),o("e54f"),o("985d"),o("31cd"),o("2b0e")),l=o("df1a"),r=o("42d2"),s=o("b05d"),c=o("2a19"),d=o("f508"),u=o("436b");i["a"].use(s["a"],{config:{},lang:l["a"],iconSet:r["a"],plugins:{Notify:c["a"],Loading:d["a"],Dialog:u["a"]}});var m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"q-app"}},[o("router-view")],1)},p=[],f={name:"App",mounted:function(){window.onunload=function(t){var e=window.localStorage;return e.clear(),t.preventDefault(),!1}}},b=f,h=o("2877"),g=Object(h["a"])(b,m,p,!1,null,null,null),v=g.exports,q=(o("7db0"),o("d3b7"),o("e6cf"),o("2f62")),x=o("bc3a"),C=o.n(x);i["a"].use(q["a"]);var _=new q["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{},boolcontribuyente:!1,boolusuario:!1,boolitem:!1,boolunidad:!1,boolcomprobante:!1,boolpagocomprobante:!1,boolcancelarcomprobante:!1,boolempresa:!1,boolverificar:!1,boolpagocaja:!1,boolanular:!1},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e.token,t.user=e.user,t.boolcontribuyente=void 0!=e.user.permisos.find((function(t){return 1===t.id})),t.boolusuario=void 0!=e.user.permisos.find((function(t){return 2===t.id})),t.boolitem=void 0!=e.user.permisos.find((function(t){return 3===t.id})),t.boolunidad=void 0!=e.user.permisos.find((function(t){return 4===t.id})),t.boolcomprobante=void 0!=e.user.permisos.find((function(t){return 5===t.id})),t.boolpagocomprobante=void 0!=e.user.permisos.find((function(t){return 6===t.id})),t.boolcancelarcomprobante=void 0!=e.user.permisos.find((function(t){return 7===t.id})),t.boolempresa=void 0!=e.user.permisos.find((function(t){return 8===t.id})),t.boolverificar=void 0!=e.user.permisos.find((function(t){return 9===t.id})),t.boolpagocaja=void 0!=e.user.permisos.find((function(t){return 10===t.id})),t.boolanular=void 0!=e.user.permisos.find((function(t){return 11===t.id}))},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",t.user={},t.boolcontribuyente=!1,t.boolusuario=!1,t.boolitem=!1,t.boolunidad=!1,t.boolcomprobante=!1,t.boolpagocomprobante=!1,t.boolcancelarcomprobante=!1,t.boolempresa=!1,t.boolverificar=!1,t.boolpagocaja=!1,t.boolanular=!1}},actions:{login:function(t,e){var o=t.commit;return new Promise((function(t,a){o("auth_request"),C()({url:"http://localhost:8000/api/login",data:e,method:"POST"}).then((function(e){var a=e.data.token,n=e.data.user;localStorage.setItem("token",a),C.a.defaults.headers.common["Authorization"]="Bearer "+a,o("auth_success",{token:a,user:n}),t(e)})).catch((function(t){o("auth_error"),localStorage.removeItem("token"),a(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,o){C.a.post("http://localhost:8000/api/logout").then((function(o){e("logout"),localStorage.removeItem("token"),delete C.a.defaults.headers.common["Authorization"],t()})).catch((function(t){e("auth_error"),localStorage.removeItem("token"),o(t)}))}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}}),w=o("8c4f"),y=(o("e260"),o("3ca3"),o("ddb0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",{attrs:{view:"lHh Lpr lFf"}},[o("q-header",{attrs:{elevated:""}},[o("q-toolbar",[o("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),o("q-toolbar-title",[t._v("\n        "+t._s(t.$store.state.user.name)+"\n      ")]),Object.keys(t.$store.state.user).length>0?o("div",[t._v("Uni: "+t._s(t.$store.state.user.unid.nombre)+" ")]):t._e(),t.$store.getters.isLoggedIn?o("q-btn",{attrs:{label:"salir",color:"black"},on:{click:t.logout}}):t._e()],1)],1),o("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-1"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[o("q-list",[o("q-item-label",{staticClass:"text-grey-8",attrs:{header:""}},[t._v("\n        Essential Links\n      ")]),o("q-item",{attrs:{clickable:"",to:"/",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"home"}})],1),o("q-item-section",[o("q-item-label",[t._v("Home")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Ingreso al sistema\n          ")])],1)],1),t.$store.getters.isLoggedIn?t._e():o("q-item",{attrs:{clickable:"",exact:"",to:"/login"}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"login"}})],1),o("q-item-section",[o("q-item-label",[t._v("Login")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Ingreso al sistema\n          ")])],1)],1),t.$store.state.boolcontribuyente?o("q-item",{attrs:{clickable:"",to:"/cliente",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"person"}})],1),o("q-item-section",[o("q-item-label",[t._v("Contribuyente")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Datos Contribuyente\n          ")])],1)],1):t._e(),t.$store.state.boolusuario?o("q-item",{attrs:{clickable:"",to:"/user",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"person"}})],1),o("q-item-section",[o("q-item-label",[t._v("Usuarios")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Permisos de usuario\n          ")])],1)],1):t._e(),t.$store.state.boolitem?o("q-item",{attrs:{clickable:"",to:"/item",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"category"}})],1),o("q-item-section",[o("q-item-label",[t._v("Item")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Configuracion de items\n          ")])],1)],1):t._e(),t.$store.state.boolunidad?o("q-item",{attrs:{clickable:"",to:"/unid",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"meeting_room"}})],1),o("q-item-section",[o("q-item-label",[t._v("Unidades")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Lista de Unidades\n          ")])],1)],1):t._e(),t.$store.state.boolcomprobante?o("q-item",{attrs:{clickable:"",to:"/secure",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"article"}})],1),o("q-item-section",[o("q-item-label",[t._v("Crear comprobantes")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Crear comprobante\n          ")])],1)],1):t._e(),t.$store.state.boolpagocomprobante?o("q-item",{attrs:{clickable:"",to:"/pago",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"picture_as_pdf"}})],1),o("q-item-section",[o("q-item-label",[t._v("Imprimir Comprobantes")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Imprimir de comprobante\n          ")])],1)],1):t._e(),t.$store.state.boolanular?o("q-item",{attrs:{clickable:"",to:"/anular",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"running_with_errors"}})],1),o("q-item-section",[o("q-item-label",[t._v("Anular Comprobantes")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Imprimir de comprobante\n          ")])],1)],1):t._e(),t.$store.state.boolcancelarcomprobante?o("q-item",{attrs:{clickable:"",to:"/cancelar",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"paid"}})],1),o("q-item-section",[o("q-item-label",[t._v("Pagos Comprobantes por unidad")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Pagos de comprobante por unidad\n          ")])],1)],1):t._e(),t.$store.state.boolpagocaja?o("q-item",{attrs:{clickable:"",to:"/pagocaja",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"paid"}})],1),o("q-item-section",[o("q-item-label",[t._v("Pagos por Caja")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Pagos por caja\n          ")])],1)],1):t._e(),o("q-item",{attrs:{clickable:"",to:"/resumen",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"list"}})],1),o("q-item-section",[o("q-item-label",[t._v("Resumen Caja")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Resumen de Pagos del cajero\n          ")])],1)],1),t.$store.state.boolempresa?o("q-item",{attrs:{clickable:"",to:"/empresa",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"settings_overscan"}})],1),o("q-item-section",[o("q-item-label",[t._v("Empresa")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Registro de empresas\n          ")])],1)],1):t._e(),t.$store.state.boolverificar?o("q-item",{attrs:{clickable:"",to:"/verificar",exact:""}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"history"}})],1),o("q-item-section",[o("q-item-label",[t._v("Verificar pagos")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Historial de pagos\n          ")])],1)],1):t._e(),t.$store.getters.isLoggedIn?o("q-item",{attrs:{clickable:""},on:{click:t.logout}},[o("q-item-section",{attrs:{avatar:""}},[o("q-icon",{attrs:{name:"logout"}})],1),o("q-item-section",[o("q-item-label",[t._v("Salir")]),o("q-item-label",{attrs:{caption:""}},[t._v("\n            Salir del sistema\n          ")])],1)],1):t._e()],1)],1),o("q-page-container",[o("router-view")],1)],1)}),$=[],k={name:"MainLayout",data:function(){return{leftDrawerOpen:!1}},methods:{logout:function(){var t=this;this.$q.loading.show(),this.$store.dispatch("logout").then((function(){t.$q.loading.hide(),t.$router.push("/login")}))}}},I=k,S=o("4d5a"),E=o("e359"),N=o("65c6"),O=o("9c40"),R=o("6ac5"),D=o("9404"),A=o("1c1c"),P=o("0170"),Q=o("66e5"),T=o("4074"),M=o("0016"),F=o("09e3"),j=o("eebe"),B=o.n(j),z=Object(h["a"])(I,y,$,!1,null,null,null),U=z.exports;B()(z,"components",{QLayout:S["a"],QHeader:E["a"],QToolbar:N["a"],QBtn:O["a"],QToolbarTitle:R["a"],QDrawer:D["a"],QList:A["a"],QItemLabel:P["a"],QItem:Q["a"],QItemSection:T["a"],QIcon:M["a"],QPageContainer:F["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{alt:"Quasar logo",src:o("f8bf")}})])},L=[],V={name:"PageIndex"},H=V,G=o("9989"),J=Object(h["a"])(H,Y,L,!1,null,null,null),Z=J.exports;B()(J,"components",{QPage:G["a"]});var K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-px-md q-pt-lg"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-6 q-pa-xs "},[o("q-form",{ref:"myForm"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-input",{attrs:{label:"No Tramite:",outlined:"","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}],disable:""},model:{value:t.nrotramite,callback:function(e){t.nrotramite=e},expression:"nrotramite"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{label:"CI NIT RUC:",outlined:"","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},on:{input:t.buscarcliente},model:{value:t.ci,callback:function(e){t.ci=e},expression:"ci"}}),t.spinner?o("i",{staticClass:"fa fa-spinner"}):t._e()],1),o("div",{staticClass:"col-4"},[o("q-select",{staticStyle:{"text-transform":"uppercase"},attrs:{options:["CH","LP","CB","OR","PT","TJ","SC","BE","PD","OTROS"],outlined:"",label:"Expedido","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.expedido,callback:function(e){t.expedido=e},expression:"expedido"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",label:"Paterno o razon","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.paterno,callback:function(e){t.paterno=e},expression:"paterno"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",label:"Materno","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.materno,callback:function(e){t.materno=e},expression:"materno"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",label:"Nombres","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{staticStyle:{"text-transform":"uppercase"},attrs:{outlined:"",label:"Padron","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.padron,callback:function(e){t.padron=e},expression:"padron"}})],1),o("div",{staticClass:"col-8"},[o("q-input",{attrs:{outlined:"",label:"Direccion","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),o("div",{staticClass:"col-4"},[o("q-input",{attrs:{outlined:"",label:"Numero casa","lazy-rules":"",type:"number",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.numcasa,callback:function(e){t.numcasa=e},expression:"numcasa"}})],1)])])],1),o("div",{staticClass:"col-12 col-md-6 q-pa-xs"},[o("q-select",{attrs:{outlined:"","lazy-rules":"",options:t.items,label:"Selecionar item","option-value":"id","option-label":"nombre"},on:{input:function(e){return t.buscarsubitems()}},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}}),o("q-select",{attrs:{outlined:"","lazy-rules":"",options:t.subitems,label:"Selecionar Subitem","option-value":"id","option-label":"nombre"},on:{input:function(e){return t.colocarprecio(e)}},model:{value:t.subitem,callback:function(e){t.subitem=e},expression:"subitem"}}),o("q-input",{attrs:{outlined:"",label:"Detalle","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"}]},model:{value:t.detalle,callback:function(e){t.detalle=e},expression:"detalle"}}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-1"},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"positive",icon:"add_circle","text-color":"white"},on:{click:function(e){t.cantidad++}}})],1),o("div",{staticClass:"col-2"},[o("q-input",{attrs:{outlined:"",label:"Precio"},model:{value:t.precio,callback:function(e){t.precio=e},expression:"precio"}})],1),o("div",{staticClass:"col-2"},[o("q-input",{attrs:{outlined:"",label:"Cantidad"},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),o("div",{staticClass:"col-1"},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"negative",icon:"remove_circle","text-color":"white"},on:{click:function(e){t.cantidad--}}})],1),o("div",{staticClass:"col-2"},[o("q-input",{attrs:{outlined:"",label:"Subtotal"},model:{value:t.subtotal,callback:function(e){t.subtotal=e},expression:"subtotal"}})],1),o("div",{staticClass:"col-4"},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"positive",label:"Agregar","text-color":"white"},on:{click:t.agregar}})],1)])],1),o("div",{staticClass:"col-12"},[o("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Reset",icon:"delete",color:"negative"},on:{click:t.reset}}),o("q-toggle",{attrs:{color:"positive",label:"Cobrar fomulario"},on:{input:t.cambio},model:{value:t.formulario,callback:function(e){t.formulario=e},expression:"formulario"}})],1),o("div",{staticClass:"col-12"},[o("q-table",{attrs:{dense:"",columns:t.columns,data:t.data,"row-key":"nombre"}}),o("div",{staticClass:"bg-info q-ma-xs text-center text-red-7 text-h5 text-weight-bold"},[t._v("Total: "+t._s(t.total)+" Bs ")]),o("q-btn",{staticClass:"full-width",attrs:{icon:"add_circle",label:"Crear comprobante",color:"positive"},on:{click:t.crear}})],1)])])},W=[],X=(o("159b"),o("25f0"),o("38cf"),{data:function(){return{formulario:!0,columns:[{name:"coditem",label:"Codigo",align:"left",field:"coditem",sortable:!0},{name:"referencia",label:"Referencia",align:"left",field:"detalle",sortable:!0},{name:"precio",label:"Precio",align:"left",field:"precio",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cantidad",label:"Cantidad",align:"left",field:"cantidad",sortable:!0},{name:"subtotal",label:"Subtotal",align:"left",field:"subtotal",format:function(t){return"".concat(t," Bs")},sortable:!0}],data:[{coditem:"1210000",nombreitem:"VENTA Y REPOSICIÓN                              ",codsubitem:"122000001",nombresubitem:"Venta y reposicion de formulario                              ",detalle:"Venta y reposicion de formulario",precio:2,cantidad:1,subtotal:2}],nrotramite:"",nrocomprobante:"",ci:"",detalle:"",paterno:"",materno:"",nombre:"",padron:"",expedido:"",direccion:"",numcasa:"",item:"",subitem:"",subitems:[],items:[],precio:0,cantidad:1,spinner:!1}},created:function(){var t=this;this.numcomprobante(),this.$axios.get("http://localhost:8000/api/item").then((function(e){t.items=[],e.data.forEach((function(e){t.items.push({id:e.id,nombre:e.nombre+" "+e.codigo,codigo:e.codigo,nombre2:e.nombre})}))}))},methods:{cambio:function(){this.formulario?this.reset():this.data=[]},numcomprobante:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/comprobante/1").then((function(e){t.nrotramite=t.$store.state.user.codigo+t.zfill(parseInt(e.data)+1,4),t.$q.loading.hide()}))},crear:function(){var t=this;return""==this.ci?(this.$q.dialog({title:"Falta colocar carnet de identidad"}),!1):""==this.detalle?(this.$q.dialog({title:"Falta colocar detalle"}),!1):""==this.nrotramite?(this.$q.dialog({title:"Falta numero de tramite"}),!1):void this.$q.dialog({message:"Seguro de crear?",title:"Confirmar?",cancel:!0}).onOk((function(){t.$q.loading.show(),t.$axios.post("http://localhost:8000/api/comprobante",{nrotramite:t.nrotramite,padron:t.padron,total:t.total,ci:t.ci,paterno:t.paterno,materno:t.materno,nombre:t.nombre,expedido:t.expedido,direccion:t.direccion,numcasa:t.numcasa,data:t.data}).then((function(e){t.$refs.myForm.resetValidation(),t.numcomprobante(),t.$q.loading.hide(),t.mireset(),t.detalle="",t.ci="",t.paterno="",t.materno="",t.nombre="",t.padron="",t.expedido="",t.direccion="",t.numcasa="",t.$q.dialog({title:"Correctamente ",message:"Creado!!!"})})).catch((function(e){t.$q.loading.hide(),t.$q.notify({title:"Error ",message:e.response.data.message,color:"red",icon:"error"})}))}))},reset:function(){this.mireset()},mireset:function(){this.data=[{coditem:"1210000",nombreitem:"VENTA Y REPOSICIÓN                              ",codsubitem:"122000001",nombresubitem:"Venta y reposicion de formulario                              ",detalle:"Venta y reposicion de formulario",precio:2,cantidad:1,subtotal:2}]},agregar:function(){if(""==this.subitem)return this.$q.dialog({dark:!0,title:"Error",message:"Debes selecionar subitem",icon:"error"}).onOk((function(){})).onCancel((function(){})).onDismiss((function(){})),!1;this.data.push({coditem:this.item.codigo,nombreitem:this.item.nombre2,codsubitem:this.subitem.codigo,nombresubitem:this.subitem.nombre2,detalle:this.detalle,precio:this.precio,cantidad:this.cantidad,subtotal:this.subtotal})},colocarprecio:function(t){this.precio=this.subitem.monto},buscarsubitems:function(){var t=this;this.$q.loading.show(),this.subitems=[],this.subitem="",this.$axios.get("http://localhost:8000/api/subitem/"+this.item.id).then((function(e){t.$q.loading.hide(),e.data.forEach((function(e){t.subitems.push({id:e.id,nombre:e.nombre+" "+Math.round(e.monto)+"Bs",monto:Math.round(e.monto),codigo:e.codigo,nombre2:e.nombre})}))}))},buscarcliente:function(){var t=this;this.paterno="",this.materno="",this.nombre="",this.paterno="",this.padron="",this.expedido="",this.direccion="",this.numcasa="",this.spinner=!0,""!=this.ci&&this.$axios.get("http://localhost:8000/api/cliente/"+this.ci).then((function(e){t.spinner=!1,e.data.length>0&&(t.paterno=e.data[0].paterno,t.materno=e.data[0].materno,t.nombre=e.data[0].nombre,t.padron=e.data[0].padron,t.expedido=e.data[0].expedido,t.direccion=e.data[0].direccion,t.numcasa=e.data[0].numcasa,t.spinner=!1)}))},zfill:function(t,e){var o=Math.abs(t),a=t.toString().length,n="0";return e<=a?t<0?"-"+o.toString():o.toString():t<0?"-"+n.repeat(e-a)+o.toString():n.repeat(e-a)+o.toString()}},computed:{subtotal:function(){return this.precio*this.cantidad},total:function(){var t=0;return this.data.forEach((function(e){t+=e.subtotal})),t}}}),tt=X,et=o("0378"),ot=o("27f9"),at=o("ddd8"),nt=o("9564"),it=o("eaac"),lt=Object(h["a"])(tt,K,W,!1,null,"0061cb64",null),rt=lt.exports;B()(lt,"components",{QPage:G["a"],QForm:et["a"],QInput:ot["a"],QSelect:at["a"],QBtn:O["a"],QToggle:nt["a"],QTable:it["a"]});var st=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pt-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-2"}),o("div",{staticClass:"col-12 col-md-8"},[o("q-card",{},[o("q-card-section",{staticClass:"bg-secondary text-white"},[o("div",{staticClass:"text-h6"},[o("q-icon",{attrs:{name:"login"}}),t._v("\n              Ingreso al sistemas\n            ")],1),o("div",{staticClass:"text-subtitle2"},[t._v("ingresar nombre y contraseña")])]),o("q-card-section",[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.login,reset:t.onReset}},[o("q-input",{attrs:{filled:"",label:"Ingresa tu email *",hint:"Email de ingreso","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),o("q-input",{attrs:{type:"password",filled:"",label:"Password *",hint:"Contraseña ","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("div",[o("q-btn",{attrs:{label:"Ingresar",type:"submit",icon:"login",color:"positive"}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",icon:"restart_alt",color:"negative"}})],1)],1)],1),o("q-separator",{attrs:{dark:""}})],1)],1),o("div",{staticClass:"col-12 col-md-2"})])])},ct=[],dt={data:function(){return{email:"admin@test.com",password:"admin"}},methods:{login:function(){var t=this;this.$q.loading.show();var e=this.email,o=this.password;this.$store.dispatch("login",{email:e,password:o}).then((function(){t.$q.loading.hide(),t.$router.push("/")})).catch((function(e){t.$q.loading.hide(),t.$q.notify({message:e.response.data.res,color:"red",icon:"error"})}))},onReset:function(){this.email=null,this.password=null}}},ut=dt,mt=o("f09f"),pt=o("a370"),ft=o("eb85"),bt=o("4b7e"),ht=Object(h["a"])(ut,st,ct,!1,null,"77c9d382",null),gt=ht.exports;B()(ht,"components",{QPage:G["a"],QCard:mt["a"],QCardSection:pt["a"],QIcon:M["a"],QForm:et["a"],QInput:ot["a"],QToggle:nt["a"],QBtn:O["a"],QSeparator:ft["a"],QCardActions:bt["a"]});var vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pt-md q-pl-lg"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{attrs:{type:"text",error:!t.valido,label:"Cedula Identidad"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.llenar.apply(null,arguments))}},model:{value:t.dato.ci,callback:function(e){t.$set(t.dato,"ci",e)},expression:"dato.ci"}}),t.valor?[o("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[o("q-select",{attrs:{options:["LP","OR","CH","CB","PT","TJ","SC","BE","PD"],label:"Expedido"},model:{value:t.dato.expedido,callback:function(e){t.$set(t.dato,"expedido",e)},expression:"dato.expedido"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Nombre",hint:"Ingresar Nombre","lazy-rules":"",rules:[function(t){return t.length>0||"Ingrese nombre"}]},model:{value:t.dato.nombre,callback:function(e){t.$set(t.dato,"nombre",e)},expression:"dato.nombre"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Paterno",hint:"Ingresar apellido"},model:{value:t.dato.paterno,callback:function(e){t.$set(t.dato,"paterno",e)},expression:"dato.paterno"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Materno",hint:"Ingresar materno"},model:{value:t.dato.materno,callback:function(e){t.$set(t.dato,"materno",e)},expression:"dato.materno"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Ap Casada",hint:"Ingresar Ap Casada"},model:{value:t.dato.casada,callback:function(e){t.$set(t.dato,"casada",e)},expression:"dato.casada"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Direccion",hint:"ingresa la direccion","lazy-rules":"",rules:[function(t){return t.length>0||"Debe ingresar direccion"}]},model:{value:t.dato.direccion,callback:function(e){t.$set(t.dato,"direccion",e)},expression:"dato.direccion"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Numero Casa",hint:"Numero del domicilio","lazy-rules":"",rules:[function(t){return t.length>0||"Debe ingresar numero"}]},model:{value:t.dato.numcasa,callback:function(e){t.$set(t.dato,"numcasa",e)},expression:"dato.numcasa"}}),o("q-input",{attrs:{Filled:"",type:"text",label:"Telefono",hint:"Ingrese numero telefonico"},model:{value:t.dato.telefono,callback:function(e){t.$set(t.dato,"telefono",e)},expression:"dato.telefono"}}),o("div",[o("q-btn",{attrs:{label:"Crear Modificar",type:"submit",color:"positive",icon:"add_circle"}})],1)],1)]:t._e()],2),o("div",{staticClass:"col-12 col-sm-6"})])])},qt=[],xt={data:function(){return{model:null,options:[],cadena:[],dato:[],valido:!1,aux:"",valor:!1}},created:function(){},methods:{onSubmit:function(){var t=this;console.log(this.dato),this.$q.loading.show(),null==this.dato.paterno&&(this.dato.paterno=""),null==this.dato.materno&&(this.dato.materno=""),null==this.dato.casada&&(this.dato.casada=""),""==this.dato.id||null==this.dato.id?this.$axios.post("http://localhost:8000/api/cliente",this.dato).then((function(e){console.log(e.data),t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"})})):this.$axios.put("http://localhost:8000/api/cliente/"+this.dato.id,this.dato).then((function(e){console.log(e.data),t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"})})),this.$q.loading.hide()},llenar:function(){this.datoscliente(this.cl),this.valor=!0},datoscliente:function(){var t=this;this.cadena=[],this.$axios.get("http://localhost:8000/api/lista/"+this.dato.ci).then((function(e){console.log(e.data),1==e.data.length?(t.valido=!0,t.dato=e.data[0]):(t.valido=!1,t.aux=t.dato.ci,t.dato={},t.dato.ci=t.aux),e.data.forEach((function(e){t.cadena.push(e.ci)})),t.options=t.cadena}))}}},Ct=xt,_t=Object(h["a"])(Ct,vt,qt,!1,null,"55385ca4",null),wt=_t.exports;B()(_t,"components",{QPage:G["a"],QInput:ot["a"],QForm:et["a"],QSelect:at["a"],QBtn:O["a"]});var yt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md"},[o("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Nuevo Item",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),o("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Nuevo Item")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[o("q-input",{attrs:{filled:"",type:"number",label:"Numero codigo",hint:"Ingresar codigo","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.codigo,callback:function(e){t.$set(t.dato,"codigo",e)},expression:"dato.codigo"}}),o("q-input",{attrs:{filled:"",type:"text",label:"Nombre de Item",hint:"Ingresar Nombre item","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.nombre,callback:function(e){t.$set(t.dato,"nombre",e)},expression:"dato.nombre"}}),o("q-select",{attrs:{options:t.unidades,label:"unidad",hint:"Seleccionar","lazy-rules":"",rules:[function(t){return""!=t&&null!=t||"Por favor ingresa datos"}]},model:{value:t.uni,callback:function(e){t.uni=e},expression:"uni"}}),o("div",[o("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-table",{attrs:{title:"Items ",data:t.data,columns:t.columns,"rows-per-page-options":[50,30,50,0],filter:t.filter,grid:t.$q.screen.xs,"row-key":"name"},scopedSlots:t._u([{key:"body",fn:function(e){return[o("q-tr",{attrs:{props:e}},[o("q-td",{key:"codigo",attrs:{props:e}},[t._v("\n            "+t._s(e.row.codigo)+"\n          ")]),o("q-td",{key:"nombre",attrs:{props:e}},[t._v("\n            "+t._s(e.row.nombre)+"\n          ")]),o("q-td",{key:"unid",attrs:{props:e}},[t._v("\n            "+t._s(e.row.unid.nombre)+"\n          ")]),o("q-td",{key:"estado",attrs:{props:e}},["ACTIVO"==e.row.estado?o("q-badge",{attrs:{color:"positive"},on:{click:function(o){return t.cambio(e.row)}}},[t._v("\n              "+t._s(e.row.estado)+"\n            ")]):o("q-badge",{attrs:{color:"negative"},on:{click:function(o){return t.cambio(e.row)}}},[t._v("\n              "+t._s(e.row.estado)+"\n            ")])],1),o("q-td",{key:"subitems",attrs:{props:e}},[o("ul",t._l(e.row.subitems,(function(e,a){return o("span",{key:a},[o("li",[t._v("\n                    "+t._s(e.codigo)+" "+t._s(e.nombre)+"\n                    "),"ACTIVO"==e.estado?o("q-badge",{attrs:{color:"positive"},on:{click:function(o){return t.cambiosubitem(e)}}},[t._v("\n                      "+t._s(e.estado)+"\n                    ")]):o("q-badge",{attrs:{color:"negative"},on:{click:function(o){return t.cambiosubitem(e)}}},[t._v("\n                      "+t._s(e.estado)+"\n                    ")]),t._v("\n                    "+t._s(e.monto)+" Bs.\n                  ")],1)])})),0)]),o("q-td",{key:"opcion",attrs:{props:e}},[o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"green",icon:"playlist_add"},on:{click:function(o){return t.addRow(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"green",icon:"list"},on:{click:function(o){return t.verRow(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(o){return t.editRow(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(o){return t.deleteRow(e)}}})],1)],1)]}},{key:"top-right",fn:function(){return[o("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0}])}),o("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Modificar")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[o("q-input",{attrs:{filled:"",type:"text",label:"Codigo Item",readonly:""},model:{value:t.dato2.codigo,callback:function(e){t.$set(t.dato2,"codigo",e)},expression:"dato2.codigo"}}),o("q-input",{attrs:{filled:"",type:"text",label:"Nombre del Item",hint:"Ingresar nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.nombre,callback:function(e){t.$set(t.dato2,"nombre",e)},expression:"dato2.nombre"}}),o("q-select",{attrs:{options:t.unidades,label:"unidad",hint:"Seleccionar","lazy-rules":"",rules:[function(t){return""!=t&&null!=t||"Por favor ingresa datos"}]},model:{value:t.uni2,callback:function(e){t.uni2=e},expression:"uni2"}}),o("div",[o("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-dialog",{model:{value:t.dialog_modsub,callback:function(e){t.dialog_modsub=e},expression:"dialog_modsub"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Modificar Subitem")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onModsub}},[o("q-input",{attrs:{filled:"",type:"text",label:"Nombre del SubItem",hint:"Ingresar nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato3.nombre,callback:function(e){t.$set(t.dato3,"nombre",e)},expression:"dato3.nombre"}}),o("q-input",{attrs:{filled:"",type:"number",step:"0.01",label:"Monto SubItem",hint:"Ingresar monto","lazy-rules":"",rules:[function(t){return t&&t>=0||"Por favor ingresa datos"}]},model:{value:t.dato3.monto,callback:function(e){t.$set(t.dato3,"monto",e)},expression:"dato3.monto"}}),o("div",[o("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-dialog",{model:{value:t.dialog_add,callback:function(e){t.dialog_add=e},expression:"dialog_add"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Agregar Subitem")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onAdd}},[o("q-input",{attrs:{filled:"",type:"text",label:"Nombre del SubItem",hint:"Ingresar nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.subnombre,callback:function(e){t.$set(t.dato2,"subnombre",e)},expression:"dato2.subnombre"}}),o("q-input",{attrs:{filled:"",type:"number",step:"0.01",label:"Monto",hint:"Ingresar monto","lazy-rules":"",rules:[function(t){return t>=0&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.submonto,callback:function(e){t.$set(t.dato2,"submonto",e)},expression:"dato2.submonto"}}),o("div",[o("q-btn",{attrs:{label:"Agregar",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-dialog",{model:{value:t.dialog_list,callback:function(e){t.dialog_list=e},expression:"dialog_list"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Lista de Subitem")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-table",{attrs:{title:"Subitems",data:t.subitem,columns:t.subcol},scopedSlots:t._u([{key:"body",fn:function(e){return[o("q-tr",{attrs:{props:e}},[o("q-td",{key:"codigo",attrs:{props:e}},[t._v("\n            "+t._s(e.row.codigo)+"\n          ")]),o("q-td",{key:"nombre",attrs:{props:e}},[t._v("\n            "+t._s(e.row.nombre)+"\n          ")]),o("q-td",{key:"estado",attrs:{props:e}},["ACTIVO"==e.row.estado?o("q-badge",{attrs:{color:"positive"},on:{click:function(o){return t.cambio(e.row)}}},[t._v("\n              "+t._s(e.row.estado)+"\n            ")]):o("q-badge",{attrs:{color:"negative"},on:{click:function(o){return t.cambio(e.row)}}},[t._v("\n              "+t._s(e.row.estado)+"\n            ")])],1),o("q-td",{key:"monto",attrs:{props:e}},[t._v("\n            "+t._s(e.row.monto)+"\n          ")]),o("q-td",[o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(o){return t.editsub(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(o){return t.deletesub(e)}}})],1)],1)]}}])}),o("div",[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1),o("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),o("q-dialog",{model:{value:t.dialog_delsub,callback:function(e){t.dialog_delsub=e},expression:"dialog_delsub"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDelsub}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},$t=[],kt={data:function(){return{alert:!1,dialog_mod:!1,dialog_modsub:!1,dialog_add:!1,dialog_del:!1,dialog_delsub:!1,dialog_list:!1,filter:"",dato:{},dato2:{},dato3:{},options:[],props:[],unidades:[],uni:{},uni2:{},unidad2:{},columns:[{name:"codigo",required:!0,label:"codigo",align:"left",field:function(t){return t.codigo},sortable:!0},{name:"nombre",align:"left",label:"nombre",field:"nombre",sortable:!0},{name:"unid",align:"left",label:"Unidad",field:"unid",sortable:!0},{name:"estado",align:"left",label:"Estado",field:"estado",sortable:!0},{name:"subitems",align:"left",label:"Sub Items",field:"subitems",sortable:!0},{name:"opcion",label:"Opcion",field:"action",sortable:!1}],subcol:[{name:"codigo",required:!0,label:"codigo",align:"left",field:function(t){return t.codigo},sortable:!0},{name:"nombre",align:"left",label:"nombre",field:"nombre",sortable:!0},{name:"estado",align:"left",label:"estado",field:"estado",sortable:!0},{name:"monto",align:"left",label:"monto",field:"monto",sortable:!0}],data:[],subitem:[]}},created:function(){this.unid(),this.misdatos()},methods:{cambiosubitem:function(t){var e=this;console.log(t),this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/cambiosubitem/"+t.id).then((function(o){"ACTIVO"==t.estado?t.estado="INACTIVO":t.estado="ACTIVO",e.$q.loading.hide()}))},cambio:function(t){var e=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/cambio/"+t.id).then((function(o){"ACTIVO"==t.estado?t.estado="INACTIVO":t.estado="ACTIVO",e.$q.loading.hide()}))},misdatos:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/item/1").then((function(e){t.data=e.data,t.$q.loading.hide()}))},unid:function(){var t=this;this.unidades=[],this.$axios.get("http://localhost:8000/api/unid").then((function(e){e.data.forEach((function(e){t.unidades.push({label:e.nombre,value:e.id})}))})),this.uni=this.unidades[0]},addRow:function(t){this.dato2=t.row,this.dialog_add=!0},verRow:function(t){var e=this;this.dato2=t.row,this.$axios.get("http://localhost:8000/api/subitemlist/"+this.dato2.id).then((function(t){e.subitem=t.data})),this.dialog_list=!0},editRow:function(t){this.dato2=t.row,this.uni2={value:t.row.unid.id,label:t.row.unid.nombre},this.dialog_mod=!0},editsub:function(t){this.dato3=t.row,this.dialog_modsub=!0},deleteRow:function(t){this.dato2=t.row,this.dialog_del=!0},deletesub:function(t){this.dato3=t.row,this.dialog_delsub=!0},onSubmit:function(){var t=this;this.$q.loading.show(),this.dato.unid_id=this.uni.value,this.$axios.post("http://localhost:8000/api/item",this.dato).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),t.alert=!1,t.misdatos()}))},onMod:function(){var t=this;this.$q.loading.show(),this.dato2.unid_id=this.uni2.value,this.$axios.put("http://localhost:8000/api/item/"+this.dato2.id,this.dato2).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),t.dialog_mod=!1,t.misdatos()}))},onModsub:function(){var t=this;this.$q.loading.show(),this.$axios.put("http://localhost:8000/api/subitem/"+this.dato3.id,this.dato3).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),t.dialog_modsub=!1,t.misdatos()}))},onAdd:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/subitem",this.dato2).then((function(e){console.log(e.data),t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Agregado subitem correctamente"}),t.dialog_add=!1,t.misdatos()}))},onDel:function(){var t=this;this.$q.loading.show(),this.$axios.delete("http://localhost:8000/api/item/"+this.dato2.id).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),t.dialog_del=!1,t.misdatos()}))},onDelsub:function(){var t=this;this.$q.loading.show(),this.$axios.delete("http://localhost:8000/api/subitem/"+this.dato3.id).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),t.dialog_delsub=!1,t.misdatos()}))},onReset:function(){this.dato.nombre=null,this.dato.codigo=null}}},It=kt,St=o("24e8"),Et=o("bd08"),Nt=o("db86"),Ot=o("58a81"),Rt=o("cb32"),Dt=o("7f67"),At=Object(h["a"])(It,yt,$t,!1,null,null,null),Pt=At.exports;B()(At,"components",{QBtn:O["a"],QDialog:St["a"],QCard:mt["a"],QCardSection:pt["a"],QForm:et["a"],QInput:ot["a"],QSelect:at["a"],QTable:it["a"],QTr:Et["a"],QTd:Nt["a"],QBadge:Ot["a"],QIcon:M["a"],QAvatar:Rt["a"],QCardActions:bt["a"]}),B()(At,"directives",{ClosePopup:Dt["a"]});var Qt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md"},[o("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Nuevo Empresa",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),o("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Nueva Empresa")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[o("q-input",{attrs:{filled:"",type:"text",label:"Nombre Empresa",hint:"Ingresar Nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.razonsocial,callback:function(e){t.$set(t.dato,"razonsocial",e)},expression:"dato.razonsocial"}}),o("q-input",{attrs:{filled:"",type:"number",label:"Numero de Nit",hint:"Ingresar NIT","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.nit,callback:function(e){t.$set(t.dato,"nit",e)},expression:"dato.nit"}}),o("q-input",{attrs:{filled:"",type:"text",label:"Direccion",hint:"Ingresar la direccion"},model:{value:t.dato.direccion,callback:function(e){t.$set(t.dato,"direccion",e)},expression:"dato.direccion"}}),o("q-input",{attrs:{filled:"",type:"text",label:"telefono",hint:"Ingresar la telefono"},model:{value:t.dato.telefono,callback:function(e){t.$set(t.dato,"telefono",e)},expression:"dato.telefono"}}),o("q-input",{attrs:{filled:"",type:"text",label:"Padron",hint:"Ingresar el padron","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.padron,callback:function(e){t.$set(t.dato,"padron",e)},expression:"dato.padron"}}),o("q-input",{attrs:{type:"text",label:"CI representante",hint:"Ingresar Ci","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.cliente.ci,callback:function(e){t.$set(t.cliente,"ci",e)},expression:"cliente.ci"}}),o("q-input",{attrs:{readonly:"",type:"text",label:"Nombre Cliente"},model:{value:t.cliente.nombre,callback:function(e){t.$set(t.cliente,"nombre",e)},expression:"cliente.nombre"}}),o("div",[o("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-table",{attrs:{title:"Empresa",data:t.data,columns:t.columns,"row-key":"name"},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(e){return[o("q-td",{attrs:{props:e}},[o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(o){return t.editRow(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(o){return t.deleteRow(e)}}})],1)]}}])}),o("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[t._v("Modificar")])]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[o("q-input",{attrs:{filled:"",type:"text",label:"Codigo Item",readonly:""},model:{value:t.dato2.codigo,callback:function(e){t.$set(t.dato2,"codigo",e)},expression:"dato2.codigo"}}),o("q-input",{attrs:{filled:"",type:"text",label:"Nombre del Item",hint:"Ingresar nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.nombre,callback:function(e){t.$set(t.dato2,"nombre",e)},expression:"dato2.nombre"}}),o("div",[o("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},Tt=[],Mt={data:function(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},dato2:{},options:[],props:[],uni:{},columns:[{name:"nit",required:!0,label:"nit",align:"left",field:function(t){return t.nit},sortable:!0},{name:"razonsocial",align:"left",label:"Razonsocial",field:"razonsocial",sortable:!0},{name:"opcion",label:"Opcion",field:"action",sortable:!1}],subcol:[{name:"codigo",required:!0,label:"codigo",align:"left",field:function(t){return t.codigo},sortable:!0},{name:"nombre",align:"left",label:"nombre",field:"nombre",sortable:!0},{name:"monto",align:"left",label:"monto",field:"monto",sortable:!0}],data:[],subitem:[]}},created:function(){this.unid(),this.misdatos()},methods:{misdatos:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/item").then((function(e){t.data=e.data,t.$q.loading.hide()}))},unid:function(){var t=this;this.unidades=[],this.$axios.get("http://localhost:8000/api/unid").then((function(e){console.log(e.data),e.data.forEach((function(e){t.unidades.push({label:e.nombre,value:e.id})}))})),this.uni=this.unidades[0]},addRow:function(t){this.dato2=t.row,this.dialog_add=!0},verRow:function(t){var e=this;this.dato2=t.row,this.$axios.get("http://localhost:8000/api/subitemlist/"+this.dato2.id).then((function(t){e.subitem=t.data})),this.dialog_list=!0},editRow:function(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow:function(t){this.dato2=t.row,this.dialog_del=!0},onSubmit:function(){var t=this;this.$q.loading.show(),this.dato.unid_id=this.uni.value,this.$axios.post("http://localhost:8000/api/item",this.dato).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),t.alert=!1,t.misdatos()}))},onMod:function(){var t=this;this.$q.loading.show(),this.$axios.put("http://localhost:8000/api/item/"+this.dato2.id,this.dato2).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),t.dialog_mod=!1,t.misdatos()}))},onAdd:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/subitem",this.dato2).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Agregado subitem correctamente"}),t.dialog_add=!1,t.misdatos()}))},onDel:function(){var t=this;this.$q.loading.show(),this.$axios.delete("http://localhost:8000/api/item/"+this.dato2.id).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),t.dialog_del=!1,t.misdatos()}))},onReset:function(){this.dato.nombre=null,this.dato.codigo=null}}},Ft=Mt,jt=Object(h["a"])(Ft,Qt,Tt,!1,null,null,null),Bt=jt.exports;B()(jt,"components",{QBtn:O["a"],QDialog:St["a"],QCard:mt["a"],QCardSection:pt["a"],QForm:et["a"],QInput:ot["a"],QTable:it["a"],QTd:Nt["a"],QAvatar:Rt["a"],QCardActions:bt["a"]}),B()(jt,"directives",{ClosePopup:Dt["a"]});var zt=function(){var t=this,e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"q-pa-md"},[a("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Nuevo Item",color:"positive",icon:"add_circle"},on:{click:function(t){e.alert=!0}}}),a("q-dialog",{model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[a("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[a("q-card-section",{staticClass:"bg-green-14 text-white"},[a("div",{staticClass:"text-h6"},[e._v("Nuevo Unidad")])]),a("q-card-section",{staticClass:"q-pt-xs"},[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[a("q-input",{attrs:{filled:"",type:"text",label:"Codigo de unidad",hint:"Codigo de la unidad","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:e.dato.codigo,callback:function(t){e.$set(e.dato,"codigo",t)},expression:"dato.codigo"}}),a("q-input",{attrs:{filled:"",type:"text",label:"Nombre de Unidad",hint:"Ingresar Nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:e.dato.nombre,callback:function(t){e.$set(e.dato,"nombre",t)},expression:"dato.nombre"}}),a("q-input",{attrs:{filled:"",type:"number",label:"Inicio de Comp",hint:"Numero de Comp I","lazy-rules":"",rules:[function(t){return t&&t>0||"Por favor ingresa datos"}]},model:{value:e.dato.inicio,callback:function(t){e.$set(e.dato,"inicio",t)},expression:"dato.inicio"}}),a("q-input",{attrs:{filled:"",type:"number",label:"Fin de Comp",hint:"Numero de Comp F","lazy-rules":"",rules:[function(e){return e>t.dato.inicio&&e>0||"Por favor ingresa datos"}]},model:{value:e.dato.fin,callback:function(t){e.$set(e.dato,"fin",t)},expression:"dato.fin"}}),a("div",[a("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),a("q-table",{attrs:{title:"Unidades",data:e.data,columns:e.columns,"row-key":"name","rows-per-page-options":[50,100,0],filter:e.filter},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body-cell-opcion",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(o){return e.editRow(t)}}}),a("q-btn",{attrs:{dense:"",round:"",flat:"",color:"secondary",icon:"add_circle"},on:{click:function(o){return e.comprobante(t)}}}),a("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(o){return e.deleteRow(t)}}})],1)]}}])}),a("q-dialog",{model:{value:e.dialog_mod,callback:function(t){e.dialog_mod=t},expression:"dialog_mod"}},[a("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[a("q-card-section",{staticClass:"bg-green-14 text-white"},[a("div",{staticClass:"text-h6"},[e._v("Modificar")])]),a("q-card-section",{staticClass:"q-pt-xs"},[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onMod}},[a("q-input",{attrs:{filled:"",type:"text",label:"Codigo del Unidad",hint:"Ingresar codigo","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:e.dato2.codigo,callback:function(t){e.$set(e.dato2,"codigo",t)},expression:"dato2.codigo"}}),a("q-input",{attrs:{filled:"",type:"text",label:"Nombre del Unidad",hint:"Ingresar nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:e.dato2.nombre,callback:function(t){e.$set(e.dato2,"nombre",t)},expression:"dato2.nombre"}}),a("q-input",{attrs:{filled:"",type:"number",label:"Numero Comp I",hint:"Ingresar numero","lazy-rules":"",rules:[function(t){return t&&t>0||"Por favor ingresa datos"}]},model:{value:e.dato2.inicio,callback:function(t){e.$set(e.dato2,"inicio",t)},expression:"dato2.inicio"}}),a("q-input",{attrs:{filled:"",type:"number",label:"Numero Comp F",hint:"Ingresar numero","lazy-rules":"",rules:[function(e){return e>t.dato2.inicio&&e>0||"Por favor ingresa datos"}]},model:{value:e.dato2.fin,callback:function(t){e.$set(e.dato2,"fin",t)},expression:"dato2.fin"}}),a("div",[a("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),a("q-dialog",{model:{value:e.dialog_del,callback:function(t){e.dialog_del=t},expression:"dialog_del"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Seguro de eliminar Registro.")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:e.onDel}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1)],1)},Ut=[],Yt={data:function(){return{filter:"",alert:!1,dialog_mod:!1,dialog_del:!1,dato:{},dato2:{},options:[],props:[],unidades:[],uni:{},columns:[{name:"codigo",align:"right",label:"Codigo",field:"codigo",sortable:!0},{name:"nombre",align:"left",label:"nombre",field:"nombre",sortable:!0},{name:"inicio",align:"left",label:"Inicio",field:"inicio",sortable:!0},{name:"fin",align:"left",label:"Fin",field:"fin",sortable:!0},{name:"opcion",label:"Opcion",field:"action",sortable:!1}],data:[]}},created:function(){this.misdatos()},methods:{comprobante:function(t){var e=this;this.$q.dialog({title:"Numero de comprobante",prompt:{model:"",type:"number"},cancel:!0,persistent:!0}).onOk((function(o){e.$q.loading.show(),e.$axios.put("http://localhost:8000/api/unid/"+t.row.id,{inicio:o,fin:parseInt(o)+100}).then((function(t){e.$q.notify({message:"Modificado correctamente",icon:"cloud_done",color:"green-4"}),e.misdatos()})).catch((function(t){e.$q.loading.hide(),e.$q.notify({message:t.response.data.message,color:"red",icon:"error"})}))}))},misdatos:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/unid").then((function(e){t.data=e.data,t.$q.loading.hide()}))},editRow:function(t){this.dato2=t.row,this.dialog_mod=!0},deleteRow:function(t){this.dato2=t.row,this.dialog_del=!0},onSubmit:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/unid",this.dato).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),t.alert=!1,t.misdatos()}))},onMod:function(){var t=this;this.$q.loading.show(),this.$axios.put("http://localhost:8000/api/unid/"+this.dato2.id,this.dato2).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),t.dialog_mod=!1,t.misdatos()}))},onDel:function(){var t=this;this.$q.loading.show(),this.$axios.delete("http://localhost:8000/api/unid/"+this.dato2.id).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),t.dialog_del=!1,t.misdatos()}))},onReset:function(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0}}},Lt=Yt,Vt=Object(h["a"])(Lt,zt,Ut,!1,null,null,null),Ht=Vt.exports;B()(Vt,"components",{QBtn:O["a"],QDialog:St["a"],QCard:mt["a"],QCardSection:pt["a"],QForm:et["a"],QInput:ot["a"],QTable:it["a"],QIcon:M["a"],QTd:Nt["a"],QAvatar:Rt["a"],QCardActions:bt["a"]}),B()(Vt,"directives",{ClosePopup:Dt["a"]});var Gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("q-select",{attrs:{outlined:"",filled:"","use-input":"","input-debounce":"0",label:"Selecionar comprobante",options:t.options},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[t._v("\n              No results\n            ")])],1)]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{attrs:{outlined:"",label:"Nro Comprobante",type:"number","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Porfavor llenar este campo"},function(e){return e>=t.min&&e<=t.max||"Tiene que estar en el rango de "+t.min+"-"+t.max}]},on:{input:t.misrangos},model:{value:t.nrocomprobante,callback:function(e){t.nrocomprobante=e},expression:"nrocomprobante"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Nombre completo",disable:""},model:{value:t.model.nombrecompleto,callback:function(e){t.$set(t.model,"nombrecompleto",e)},expression:"model.nombrecompleto"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Padron",disable:""},model:{value:t.model.padron,callback:function(e){t.$set(t.model,"padron",e)},expression:"model.padron"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Carnet de identidad",disable:""},model:{value:t.model.ci,callback:function(e){t.$set(t.model,"ci",e)},expression:"model.ci"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{"label-color":"white",color:"white","bg-color":"red-5",outlined:"",label:"TOTAL",disable:""},model:{value:t.model.total,callback:function(e){t.$set(t.model,"total",e)},expression:"model.total"}})],1),o("div",{staticClass:"col-12"},[o("q-table",{attrs:{title:"Detalle",dense:"",columns:t.columns,data:t.model.detalles}}),o("q-btn",{staticClass:"full-width",attrs:{icon:"add_circle",label:"Proforma",color:"warning"},on:{click:t.proforma}}),o("q-btn",{staticClass:"full-width",attrs:{icon:"add_circle",label:"Crear comprobante",color:"positive"},on:{click:t.cancelar}})],1)]),o("div",{attrs:{id:"qr_code"}})])},Jt=[],Zt=(o("b0c0"),o("4de4"),o("1157")),Kt=o.n(Zt),Wt=o("8baf"),Xt={data:function(){return{min:0,max:0,model:"",options:[],nrocomprobante:"",columns:[{name:"codsubitem",label:"Codigo",align:"left",field:"codsubitem",sortable:!0},{name:"referencia",label:"Referencia",align:"left",field:"detalle",sortable:!0},{name:"precio",label:"Precio",align:"left",field:"precio",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cantidad",label:"Cantidad",align:"left",field:"cantidad",sortable:!0},{name:"subtotal",label:"Subtotal",align:"left",field:"subtotal",format:function(t){return"".concat(t," Bs")},sortable:!0}],comprobantes:[]}},created:function(){this.miscomprobante(),this.misrangos()},mounted:function(){},methods:{misrangos:function(){var t=this;this.$axios.get("http://localhost:8000/api/unid/1").then((function(e){t.min=e.data.inicio,t.max=e.data.fin})).catch((function(e){t.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},miscomprobante:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/comprobante").then((function(e){t.$q.loading.hide(),t.comprobantes=[],e.data.forEach((function(e){t.comprobantes.push({label:e.padron+" "+e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,id:e.id,detalles:e.detalles,nombrecompleto:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,padron:e.padron,ci:e.cliente.ci,total:e.total})}))}))},cancelar:function(){var t=this;return""==this.nrocomprobante?(this.$q.dialog({title:"Falta numero comprobante"}),!1):""==this.model?(this.$q.dialog({title:"Seleccione comprobante"}),!1):parseInt(this.nrocomprobante)>=parseInt(this.max)&&parseInt(this.nrocomprobante)<=parseInt(this.min)?(this.$q.dialog({title:"Rango de comprobantes no permitidos!"}),!1):(this.$q.loading.show(),void this.$axios.put("http://localhost:8000/api/comprobante/"+this.model.id,{nrocomprobante:this.nrocomprobante}).then(function(){var e=n()(regeneratorRuntime.mark((function e(o){var a,n,i,l,r,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$q.loading.hide(),t.model="",t.$q.dialog({title:"Creado exitoso"}),t.miscomprobante(),a=o.data[0],n=new Wt["a"]("p","cm","letter"),n.setFont("courier"),n.setFontSize(9),i=0,l=0,n.text(i+14.5,l+3.7,"TRAMITE N "+a.nrotramite.toString()),n.text(i+9.5,l+6,a.cliente.paterno.toString()+" "+a.cliente.materno.toString()+" "+a.cliente.nombre.toString()),n.text(i+9.5,l+7.5,a.cliente.direccion.toString()),n.text(i+14,l+7.5,a.cliente.numcasa.toString()),n.text(i+15.6,l+7.5,a.cliente.ci.toString()+" "+a.cliente.expedido.toString()),n.text(i+18,l+7.5,a.cliente.telefono.toString()),n.text(i+3,l+9,a.varios.toString()),n.text(i+9.5,l+9,"OR "+a.fecha.toString()),r=i+1.2,s=i+9.7,a.detalles.forEach((function(t){n.text(r,s,t.codsubitem.toString()),n.text(r+2.5,s,t.nombreitem.toString()),n.text(r+14.5,s,t.subtotal.toString()),n.text(r+2.5,s+.5,t.detalle.toString()),s++})),n.text(i+15.5,l+18,a.total.toString()+" Bs"),n.text(i+2,l+16,a.literal.toString()+" 00/100Bs"),c=new Promise((function(t,e){new QRCode(document.getElementById("qr_code"),{text:a.controlinterno.toString(),width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});setTimeout((function(){t("¡Éxito!")}),250)})),c.then((function(t){var e=Kt()("#qr_code img").attr("src");console.log(e),n.addImage(e,"png",i+8.7,l+20.5,1.5,1.5),window.open(n.output("bloburl"),"_blank")}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},proforma:function(){if(""==this.model)return this.$q.dialog({title:"Seleccione comprobante"}),!1;this.$axios.post("http://localhost:8000/api/proforma/"+this.model.id).then(function(){var t=n()(regeneratorRuntime.mark((function t(e){var o,a,n,i,l,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=e.data[0],a=new Wt["a"]("p","cm","letter"),a.setFont("courier"),a.setFontSize(9),n=0,i=4,a.text(n+=1,i+=1,"HONORABLE GOBIERNO MUNICIPAL DE ORURO"),a.text(n+=1,i+=.5,o.unid.nombre.toString()),a.text(n+=14,i-=.5,"OPERADOR:"+o.user.name.toString()),a.text(n,i+=.5,"FECHA   :"+o.fecha.toString()),a.text(n-=5,i+=1,"PROFORMA DE PAGO"),a.text(n-=10,i+=.5,"-------------------------------------------------------------------------------"),a.text(n,i+=.5,"TRAMITE : "+o.nrotramite.toString()),a.text(n,i+=.5,"NOMBRE O RAZON SOCIAL CONTRIBUYENTE: "+o.cliente.paterno.toString()+" "+o.cliente.materno.toString()+" "+o.cliente.nombre.toString()+"  C.I./RUC: "+o.cliente.ci.toString()+" "+o.cliente.expedido.toString()),a.text(n,i+=.5,"DIRECCION : "+o.cliente.direccion.toString()+"   PADRON MUNICIPAL : "+o.cliente.padron.toString()),a.text(n,i+=.5,"---------------------------------------------------------------------------------"),l=n,r=i+.7,o.detalles.forEach((function(t){a.text(l,r,t.codsubitem.toString()),a.text(l+2.5,r,t.nombreitem.toString()),a.text(l+14.5,r,t.subtotal.toString()),a.text(l+2.5,r+.5,t.detalle.toString()),r++})),a.text(l+5.5,r+1,"TOTAL A PAGAR POR SERVICIOS TECNICOS: "+o.total.toString()+" Bs"),window.open(a.output("bloburl"),"_blank");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},filterFn:function(t,e){var o=this;e(""!==t?function(){var e=t.toLowerCase();o.options=o.comprobantes.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){o.options=o.comprobantes})}}},te=Xt,ee=(o("17c4"),Object(h["a"])(te,Gt,Jt,!1,null,"4e21d0dc",null)),oe=ee.exports;B()(ee,"components",{QPage:G["a"],QSelect:at["a"],QItem:Q["a"],QItemSection:T["a"],QInput:ot["a"],QTable:it["a"],QBtn:O["a"]});var ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md"},[o("q-btn",{staticClass:"q-mb-xs",attrs:{label:"Nuevo Usuario",color:"positive",icon:"add_circle"},on:{click:function(e){t.alert=!0}}}),o("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-green-14 text-white"},[o("div",{staticClass:"text-h6"},[o("q-icon",{attrs:{name:"add_circle"}}),t._v(" Nuevo Usuario")],1)]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("q-input",{attrs:{filled:"",type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.name,callback:function(e){t.$set(t.dato,"name",e)},expression:"dato.name"}}),o("q-input",{attrs:{filled:"",type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.email,callback:function(e){t.$set(t.dato,"email",e)},expression:"dato.email"}}),o("q-input",{attrs:{filled:"",type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato.password,callback:function(e){t.$set(t.dato,"password",e)},expression:"dato.password"}}),o("q-select",{attrs:{filled:"",label:"Unidad",options:t.unidades,"option-label":"nombre","option-value":"id"},model:{value:t.dato.unid_id,callback:function(e){t.$set(t.dato,"unid_id",e)},expression:"dato.unid_id"}}),o("q-input",{attrs:{filled:"",label:"Fecha limite",type:"date"},model:{value:t.dato.fechalimite,callback:function(e){t.$set(t.dato,"fechalimite",e)},expression:"dato.fechalimite"}})],1),o("div",{staticClass:"col-6"},[o("div",{staticClass:"text-5"},[t._v("Permisos")]),t._l(t.permisos,(function(e,a){return o("q-checkbox",{key:a,staticStyle:{width:"100%"},attrs:{label:e.nombre},model:{value:e.estado,callback:function(o){t.$set(e,"estado",o)},expression:"permiso.estado"}})}))],2)]),o("div",[o("q-btn",{attrs:{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)])],1)],1)],1),o("q-table",{attrs:{filter:t.filter,title:"Unidades",data:t.data,columns:t.columns,"row-key":"name","rows-per-page-options":[50,100]},scopedSlots:t._u([{key:"top-right",fn:function(){return[o("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[o("q-tr",{attrs:{props:e}},[o("q-td",{key:"name",attrs:{props:e}},[t._v("\n            "+t._s(e.row.name)+"\n          ")]),o("q-td",{key:"unid",attrs:{props:e}},[t._v("\n            "+t._s(e.row.unid.nombre)+"\n          ")]),o("q-td",{key:"codigo",attrs:{props:e}},[t._v("\n            "+t._s(e.row.codigo)+"\n          ")]),o("q-td",{key:"email",attrs:{props:e}},[t._v("\n            "+t._s(e.row.email)+"\n          ")]),o("q-td",{key:"fechalimite",attrs:{props:e}},[t._v("\n            "+t._s(e.row.fechalimite)+"\n          ")]),o("q-td",{key:"opcion",attrs:{props:e}},[o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"yellow",icon:"edit"},on:{click:function(o){return t.editRow(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"positive",icon:"vpn_key"},on:{click:function(o){return t.cambiopass(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"green-10",icon:"post_add"},on:{click:function(o){return t.mispermisos(e)}}}),o("q-btn",{attrs:{dense:"",round:"",flat:"",color:"red",icon:"delete"},on:{click:function(o){return t.deleteRow(e)}}})],1)],1)]}}])}),o("q-dialog",{model:{value:t.dialog_mod,callback:function(e){t.dialog_mod=e},expression:"dialog_mod"}},[o("q-card",{staticStyle:{"max-width":"80%",width:"50%"}},[o("q-card-section",{staticClass:"bg-warning text-white"},[o("div",{staticClass:"text-h6"},[o("q-icon",{attrs:{name:"edit"}}),t._v(" Modificar")],1)]),o("q-card-section",{staticClass:"q-pt-xs"},[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.onMod}},[o("q-input",{attrs:{filled:"",type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.name,callback:function(e){t.$set(t.dato2,"name",e)},expression:"dato2.name"}}),o("q-input",{attrs:{filled:"",type:"text",label:"Codigo ",hint:"Ingresar codigo","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.codigo,callback:function(e){t.$set(t.dato2,"codigo",e)},expression:"dato2.codigo"}}),o("q-input",{attrs:{filled:"",type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Por favor ingresa datos"}]},model:{value:t.dato2.email,callback:function(e){t.$set(t.dato2,"email",e)},expression:"dato2.email"}}),o("q-select",{attrs:{filled:"",label:"Unidad",options:t.unidades,"option-label":"nombre","option-value":"id"},model:{value:t.dato2.unid_id,callback:function(e){t.$set(t.dato2,"unid_id",e)},expression:"dato2.unid_id"}}),o("q-input",{attrs:{filled:"",label:"Fecha limite",type:"date"},model:{value:t.dato2.fechalimite,callback:function(e){t.$set(t.dato2,"fechalimite",e)},expression:"dato2.fechalimite"}}),o("div",[o("q-btn",{attrs:{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",icon:"delete",color:"negative"}})],1)],1)],1)],1)],1),o("q-dialog",{model:{value:t.dialog_del,callback:function(e){t.dialog_del=e},expression:"dialog_del"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"clear",color:"red","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[t._v("Seguro de eliminar Registro.")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{attrs:{flat:"",label:"Eliminar",color:"deep-orange"},on:{click:t.onDel}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),o("q-dialog",{model:{value:t.modelpermiso,callback:function(e){t.modelpermiso=e},expression:"modelpermiso"}},[o("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[o("q-card-section",{staticClass:"bg-info"},[o("div",{staticClass:"text-h6 text-white"},[o("q-icon",{attrs:{name:"folder"}}),t._v(" Permisos Usuario")],1)]),o("q-card-section",[o("q-form",{on:{submit:function(e){return e.preventDefault(),t.updatepermisos.apply(null,arguments)}}},[t._l(t.permisos2,(function(e,a){return o("q-checkbox",{key:a,staticStyle:{width:"100%"},attrs:{label:e.nombre},model:{value:e.estado,callback:function(o){t.$set(e,"estado",o)},expression:"permiso.estado"}})})),o("q-btn",{attrs:{type:"submit",color:"info",icon:"send",label:"Actualizar"}})],2)],1)],1)],1)],1)},ne=[],ie=o("bd4c"),le=ie["a"].addToDate,re={data:function(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{fechalimite:ie["a"].formatDate(le(new Date,{days:7}),"YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"name",align:"left",label:"Nombre ",field:"name",sortable:!0},{name:"unid",align:"left",label:"Unidad",field:"unid",sortable:!0},{name:"codigo",align:"left",label:"Codigo",field:"codigo",sortable:!0},{name:"email",align:"left",label:"Email",field:"email",sortable:!0},{name:"fechalimite",align:"left",label:"Fecha limite",field:"fechalimite",sortable:!0},{name:"opcion",label:"Opcion",field:"action",sortable:!1}],data:[]}},created:function(){var t=this;this.misdatos(),this.$axios.get("http://localhost:8000/api/unid").then((function(e){t.unidades=e.data})),this.$axios.get("http://localhost:8000/api/permiso").then((function(e){e.data.forEach((function(e){t.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),t.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))}))},methods:{updatepermisos:function(){var t=this;this.$axios.put("http://localhost:8000/api/updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((function(e){console.log(e.data),t.modelpermiso=!1,t.misdatos()})).catch((function(e){t.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos:function(t){var e,o=this;this.modelpermiso=!0,this.dato2=t.row,this.permisos2.forEach((function(t){e=o.dato2.permisos.find((function(e){return e.pivot.permiso_id==t.id})),t.estado=void 0!=e}))},misdatos:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/user").then((function(e){t.data=e.data,t.$q.loading.hide()}))},editRow:function(t){this.dato2=t.row,this.dato2.unid_id=t.row.unid,this.dialog_mod=!0},deleteRow:function(t){this.dato2=t.row,this.dialog_del=!0},onSubmit:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/user",{name:this.dato.name,password:this.dato.password,email:this.dato.email,unid_id:this.dato.unid_id.id,fechalimite:this.dato.fechalimite,codigo:this.dato.codigo,permisos:this.permisos}).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),t.dato={fechalimite:ie["a"].formatDate(Date.now(),"YYYY-MM-DD")},t.alert=!1,t.misdatos()})).catch((function(e){t.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),t.$q.loading.hide()}))},onMod:function(){var t=this;this.$q.loading.show(),this.$axios.put("http://localhost:8000/api/user/"+this.dato2.id,{name:this.dato2.name,password:this.dato2.password,email:this.dato2.email,unid_id:this.dato2.unid_id.id,fechalimite:this.dato2.fechalimite,codigo:this.dato2.codigo}).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),t.dialog_mod=!1,t.misdatos()}))},onDel:function(){var t=this;this.$q.loading.show(),this.$axios.delete("http://localhost:8000/api/user/"+this.dato2.id).then((function(e){t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),t.dialog_del=!1,t.misdatos()})).catch((function(e){t.$q.loading.hide(),t.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset:function(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass:function(t){var e=this;this.$q.dialog({title:"Cambiar password",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((function(o){e.$q.loading.show(),e.$axios.put("http://localhost:8000/api/pass/"+t.row.id,{password:o}).then((function(t){e.$q.loading.hide()}))})).onCancel((function(){})).onDismiss((function(){}))}}},se=re,ce=o("8f8e"),de=Object(h["a"])(se,ae,ne,!1,null,null,null),ue=de.exports;B()(de,"components",{QBtn:O["a"],QDialog:St["a"],QCard:mt["a"],QCardSection:pt["a"],QIcon:M["a"],QForm:et["a"],QInput:ot["a"],QSelect:at["a"],QCheckbox:ce["a"],QTable:it["a"],QTr:Et["a"],QTd:Nt["a"],QAvatar:Rt["a"],QCardActions:bt["a"]}),B()(de,"directives",{ClosePopup:Dt["a"]});var me=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("q-select",{attrs:{outlined:"",filled:"","use-input":"","input-debounce":"0",label:"Selecionar comprobante",options:t.options},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[t._v("\n                No results\n              ")])],1)]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Nombre completo",disable:""},model:{value:t.model.nombrecompleto,callback:function(e){t.$set(t.model,"nombrecompleto",e)},expression:"model.nombrecompleto"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Padron",disable:""},model:{value:t.model.padron,callback:function(e){t.$set(t.model,"padron",e)},expression:"model.padron"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Carnet de identidad",disable:""},model:{value:t.model.ci,callback:function(e){t.$set(t.model,"ci",e)},expression:"model.ci"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{"label-color":"white",color:"white","bg-color":"red-5",outlined:"",label:"TOTAL",disable:""},model:{value:t.model.total,callback:function(e){t.$set(t.model,"total",e)},expression:"model.total"}})],1),o("div",{staticClass:"col-12 col-sm-3"}),o("div",{staticClass:"col-12 col-sm-3"},[o("q-btn",{attrs:{icon:"add_circle",label:"Cobrar comprobante",color:"warning"},on:{click:t.cancelar}})],1),o("div",{staticClass:"col-12 q-mb-lg"},[o("q-table",{attrs:{title:"Detalle",dense:"",columns:t.columns,data:t.model.detalles}})],1),o("div",{staticClass:"col-8"},[o("q-input",{attrs:{label:"fecha de cobro",outlined:"",type:"date"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),o("div",{staticClass:"col-4"},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"primary",icon:"search",label:"Buscar"},on:{click:t.mispagos}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-table",{attrs:{title:"Historial de cobros",columns:t.pcolumns,data:t.pagos}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-btn",{staticClass:"full-width text-red text-bold",attrs:{color:"info",label:"Total "+t.total+"BS"}}),o("q-btn",{staticClass:"full-width",attrs:{color:"secondary",icon:"print",label:"Imprimir pagos"},on:{click:t.imprimir}})],1)])])},pe=[],fe={data:function(){return{model:"",fecha:ie["a"].formatDate(Date.now(),"YYYY-MM-DD"),options:[],nrocomprobante:"",columns:[{name:"codsubitem",label:"Codigo",align:"left",field:"codsubitem",sortable:!0},{name:"referencia",label:"Referencia",align:"left",field:"detalle",sortable:!0},{name:"precio",label:"Precio",align:"left",field:"precio",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cantidad",label:"Cantidad",align:"left",field:"cantidad",sortable:!0},{name:"subtotal",label:"Subtotal",align:"left",field:"subtotal",format:function(t){return"".concat(t," Bs")},sortable:!0}],pcolumns:[{name:"nrocomprobante",label:"Numero comprobante",align:"left",field:"nrocomprobante",sortable:!0},{name:"nrotramite",label:"Numero tramite",align:"left",field:"nrotramite",sortable:!0},{name:"cliente",label:"Contribuyente",align:"left",field:"cliente",sortable:!0},{name:"ci",label:"Carnet identidad",align:"left",field:"ci",sortable:!0},{name:"total",label:"Monto",align:"left",field:"total",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cajero",label:"Cajero",align:"left",field:"cajero",sortable:!0}],comprobantes:[],pagos:[]}},created:function(){this.miscomprobante(),this.mispagos()},mounted:function(){},methods:{imprimir:function(){var t=this;function e(t){var e=new Image;e.src="logo.jpg",o.addImage(e,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(5,1,"RESUMEN DIARIO DE INGRESOS"),o.text(5,1.5,"REGULACION DE "+t),o.text(1,3,"Nº COMPROBANTE"),o.text(4,3,"Nº TRAMITE"),o.text(7,3,"CONTRIBUYENTE"),o.text(12,3,"CI / RUN / RUC"),o.text(16,3,"MONTO BS."),o.text(18,3,"CAJERO"),o.setFont(void 0,"normal")}var o=new Wt["a"]("p","cm","letter");o.setFont("courier"),o.setFontSize(9),e(this.fecha);var a=0;this.pagos.forEach((function(n){a+=.5,o.text(1,a+3,n.nrocomprobante),o.text(4,a+3,n.nrotramite),o.text(7,a+3,n.cliente),o.text(12,a+3,n.ci),o.text(16,a+3,n.total),o.text(18,a+3,n.cajero),a+3>25&&(o.addPage(),e(t.fecha),a=0)})),o.text(12,a+4,"TOTAL RECAUDADCION: "),o.text(18,a+4,this.total+"Bs"),o.save("Pago"+ie["a"].formatDate(Date.now(),"DD-MM-YYYY")+".pdf")},miscomprobante:function(){var t=this;this.$axios.post("http://localhost:8000/api/buscarimpreso").then((function(e){t.comprobantes=[],e.data.forEach((function(e){t.comprobantes.push({label:"padron:"+e.varios+" "+e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre+" nro:"+e.nrocomprobante,id:e.id,detalles:e.detalles,nombrecompleto:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,padron:e.padron,ci:e.cliente.ci,total:e.total})}))}))},mispagos:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/mispagos",{fecha:this.fecha}).then((function(e){t.$q.loading.hide(),t.pagos=[],e.data.forEach((function(e){t.pagos.push({nrotramite:e.nrotramite,nrocomprobante:e.nrocomprobante,cliente:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,cajero:e.cajero,ci:e.cliente.ci,total:e.total})}))})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},cancelar:function(){var t=this;return""==this.model?(this.$q.dialog({title:"Seleccione comprobante"}),!1):parseInt(this.nrocomprobante)<parseInt(this.$store.state.user.unid.inicio)||parseInt(this.nrocomprobante)>parseInt(this.$store.state.user.unid.fin)?(this.$q.dialog({title:"Rango de comprobantes no permitidos"}),!1):(this.$q.loading.show(),void this.$axios.put("http://localhost:8000/api/pago/"+this.model.id,{nrocomprobante:this.nrocomprobante}).then((function(e){t.$q.loading.hide(),t.model="",t.$q.dialog({title:"Cobro exitoso"}),t.miscomprobante(),t.mispagos()})).catch((function(e){t.$q.notify({icon:"error",color:"red",message:e.response.data.message}),t.$q.loading.hide()})))},filterFn:function(t,e){var o=this;e(""!==t?function(){var e=t.toLowerCase();o.options=o.comprobantes.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){o.options=o.comprobantes})}},computed:{total:function(){var t=0;return this.pagos.forEach((function(e){t+=parseFloat(e.total)})),t}}},be=fe,he=Object(h["a"])(be,me,pe,!1,null,null,null),ge=he.exports;B()(he,"components",{QPage:G["a"],QSelect:at["a"],QItem:Q["a"],QItemSection:T["a"],QInput:ot["a"],QBtn:O["a"],QTable:it["a"]});var ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-form",{on:{submit:function(e){return e.preventDefault(),t.historial.apply(null,arguments)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 q-pa-xs"},[o("q-input",{attrs:{label:"fecha de cobro",outlined:"",type:"date"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),o("div",{staticClass:"col-4 q-pa-xs"},[o("q-select",{attrs:{outlined:"",options:t.unidades,"option-label":"nombre","option-value":"id",required:""},model:{value:t.unidad,callback:function(e){t.unidad=e},expression:"unidad"}})],1),o("div",{staticClass:"col-4 q-pa-xs"},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"primary",type:"submit",icon:"search",label:"Buscar"}})],1)])])],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-table",{attrs:{title:"Historial de cobros",columns:t.pcolumns,data:t.pagos}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-btn",{staticClass:"full-width text-red text-bold",attrs:{color:"info",label:"Total "+t.total+"BS"}})],1)])])},qe=[],xe={data:function(){return{model:"",unidad:"",fecha:ie["a"].formatDate(Date.now(),"YYYY-MM-DD"),options:[],nrocomprobante:"",columns:[{name:"codsubitem",label:"Codigo",align:"left",field:"codsubitem",sortable:!0},{name:"referencia",label:"Referencia",align:"left",field:"detalle",sortable:!0},{name:"precio",label:"Precio",align:"left",field:"precio",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cantidad",label:"Cantidad",align:"left",field:"cantidad",sortable:!0},{name:"subtotal",label:"Subtotal",align:"left",field:"subtotal",format:function(t){return"".concat(t," Bs")},sortable:!0}],pcolumns:[{name:"nrocomprobante",label:"N comprobante",align:"left",field:"nrocomprobante",sortable:!0},{name:"nrotramite",label:"N tramite",align:"left",field:"nrotramite",sortable:!0},{name:"unidad",label:"Unidad",align:"left",field:"unidad",sortable:!0},{name:"cliente",label:"Contribuyente",align:"left",field:"cliente",sortable:!0},{name:"ci",label:"Carnet identidad",align:"left",field:"ci",sortable:!0},{name:"total",label:"Monto",align:"left",field:"total",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cajero",label:"Cajero",align:"left",field:"cajero",sortable:!0}],comprobantes:[],pagos:[],unidades:[]}},created:function(){var t=this;this.$axios.get("http://localhost:8000/api/unid").then((function(e){t.unidades=e.data}))},methods:{historial:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/historial",{fecha:this.fecha,unid_id:this.unidad.id}).then((function(e){console.log(e.data),t.$q.loading.hide(),t.pagos=[],e.data.forEach((function(e){t.pagos.push({nrotramite:e.nrotramite,nrocomprobante:e.nrocomprobante,cliente:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,cajero:e.cajero,ci:e.cliente.ci,total:e.total,unidad:e.unid.nombre})}))})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},imprimir:function(){var t=this;function e(t){var e=new Image;e.src="logo.jpg",o.addImage(e,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(5,1,"RESUMEN DIARIO DE INGRESOS"),o.text(5,1.5,"REGULACION URBANA DE "+t),o.text(1,3,"Nº COMPROBANTE"),o.text(4,3,"Nº TRAMITE"),o.text(7,3,"CONTRIBUYENTE"),o.text(12,3,"CI / RUN / RUC"),o.text(16,3,"MONTO BS."),o.text(18,3,"CAJERO"),o.setFont(void 0,"normal")}var o=new Wt["a"]("p","cm","letter");o.setFont("courier"),o.setFontSize(9),e(this.fecha);var a=0;this.pagos.forEach((function(n){a+=.5,o.text(1,a+3,n.nrocomprobante),o.text(4,a+3,n.nrotramite),o.text(7,a+3,n.cliente),o.text(12,a+3,n.ci),o.text(16,a+3,n.total),o.text(18,a+3,n.cajero),a+3>25&&(o.addPage(),e(t.fecha),a=0)})),o.text(12,a+4,"TOTAL RECAUDADCION: "),o.text(18,a+4,this.total+"Bs"),o.save("Pago"+ie["a"].formatDate(Date.now(),"DD-MM-YYYY")+".pdf")},mispagos:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/mispagos",{fecha:this.fecha}).then((function(e){t.$q.loading.hide(),t.pagos=[],e.data.forEach((function(e){t.pagos.push({nrotramite:e.nrotramite,nrocomprobante:e.nrocomprobante,cliente:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,cajero:e.cajero,ci:e.cliente.ci,total:e.total})}))})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},cancelar:function(){var t=this;return""==this.model?(this.$q.dialog({title:"Seleccione comprobante"}),!1):parseInt(this.nrocomprobante)<parseInt(this.$store.state.user.unid.inicio)||parseInt(this.nrocomprobante)>parseInt(this.$store.state.user.unid.fin)?(this.$q.dialog({title:"Rango de comprobantes no permitidos"}),!1):(this.$q.loading.show(),void this.$axios.put("http://localhost:8000/api/pago/"+this.model.id,{nrocomprobante:this.nrocomprobante}).then((function(e){t.$q.loading.hide(),t.model="",t.$q.dialog({title:"Cobro exitoso"}),t.miscomprobante(),t.mispagos()})).catch((function(e){t.$q.notify({icon:"error",color:"red",message:e.response.data.message}),t.$q.loading.hide()})))},filterFn:function(t,e){var o=this;e(""!==t?function(){var e=t.toLowerCase();o.options=o.comprobantes.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){o.options=o.comprobantes})}},computed:{total:function(){var t=0;return this.pagos.forEach((function(e){t+=parseFloat(e.total)})),t}}},Ce=xe,_e=Object(h["a"])(Ce,ve,qe,!1,null,"2cf9f684",null),we=_e.exports;B()(_e,"components",{QPage:G["a"],QForm:et["a"],QInput:ot["a"],QSelect:at["a"],QBtn:O["a"],QTable:it["a"]});var ye=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6 q-pa-xs"},[o("q-select",{attrs:{filled:"",label:"Selecionar unidad",options:t.unidades,"option-value":"id","option-label":"nombre"},on:{input:t.loscomprobantes},model:{value:t.unid,callback:function(e){t.unid=e},expression:"unid"}})],1),o("div",{staticClass:"col-12 col-sm-6 q-pa-xs"},[o("q-select",{attrs:{outlined:"",filled:"","use-input":"","input-debounce":"0",label:"Selecionar comprobante",options:t.options},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[t._v("\n                No results\n              ")])],1)]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Nombre completo",disable:""},model:{value:t.model.nombrecompleto,callback:function(e){t.$set(t.model,"nombrecompleto",e)},expression:"model.nombrecompleto"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Padron",disable:""},model:{value:t.model.padron,callback:function(e){t.$set(t.model,"padron",e)},expression:"model.padron"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{outlined:"",label:"Carnet de identidad",disable:""},model:{value:t.model.ci,callback:function(e){t.$set(t.model,"ci",e)},expression:"model.ci"}})],1),o("div",{staticClass:"col-12 col-sm-3"},[o("q-input",{attrs:{"label-color":"white",color:"white","bg-color":"red-5",outlined:"",label:"TOTAL",disable:""},model:{value:t.model.total,callback:function(e){t.$set(t.model,"total",e)},expression:"model.total"}})],1),o("div",{staticClass:"col-12 col-sm-9"}),o("div",{staticClass:"col-12 col-sm-3"},[o("q-btn",{attrs:{icon:"add_circle",label:"Cobrar comprobante",color:"warning"},on:{click:t.cancelar}})],1),o("div",{staticClass:"col-12 q-mb-lg"},[o("q-table",{attrs:{title:"Detalle",dense:"",columns:t.columns,data:t.model.detalles}})],1),o("div",{staticClass:"col-8"},[o("q-input",{attrs:{label:"fecha de cobro",outlined:"",type:"date"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),o("div",{staticClass:"col-4"},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"primary",icon:"search",label:"Buscar"},on:{click:t.mispagos}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-table",{attrs:{title:"Historial de cobros",columns:t.pcolumns,data:t.pagos}})],1),o("div",{staticClass:"col-12 q-pt-md"},[o("q-btn",{staticClass:"full-width text-red text-bold",attrs:{color:"info",label:"Total "+t.total+"BS"}}),o("q-btn",{staticClass:"full-width",attrs:{color:"secondary",icon:"print",label:"Imprimir pagos"},on:{click:t.imprimir}})],1)])])},$e=[],ke={data:function(){return{model:"",fecha:ie["a"].formatDate(Date.now(),"YYYY-MM-DD"),options:[],nrocomprobante:"",columns:[{name:"codsubitem",label:"Codigo",align:"left",field:"codsubitem",sortable:!0},{name:"referencia",label:"Referencia",align:"left",field:"detalle",sortable:!0},{name:"precio",label:"Precio",align:"left",field:"precio",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cantidad",label:"Cantidad",align:"left",field:"cantidad",sortable:!0},{name:"subtotal",label:"Subtotal",align:"left",field:"subtotal",format:function(t){return"".concat(t," Bs")},sortable:!0}],pcolumns:[{name:"nrocomprobante",label:"Numero comprobante",align:"left",field:"nrocomprobante",sortable:!0},{name:"nrotramite",label:"Numero tramite",align:"left",field:"nrotramite",sortable:!0},{name:"ci",label:"Carnet identidad",align:"left",field:"ci",sortable:!0},{name:"cliente",label:"Contribuyente",align:"left",field:"cliente",sortable:!0},{name:"unidad",label:"Unidad",align:"left",field:"unidad",sortable:!0},{name:"total",label:"Monto",align:"left",field:"total",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cajero",label:"Cajero",align:"left",field:"cajero",sortable:!0}],comprobantes:[],pagos:[],unidades:[],unid:""}},created:function(){var t=this;this.$axios.get("http://localhost:8000/api/unid").then((function(e){t.unidades=e.data})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})})),this.mispagos()},mounted:function(){},methods:{loscomprobantes:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/loscomprobantes",{unid_id:this.unid.id}).then((function(e){t.comprobantes=[],t.$q.loading.hide(),e.data.forEach((function(e){t.comprobantes.push({label:"padron:"+e.varios+" "+e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre+" nro:"+e.nrocomprobante,id:e.id,detalles:e.detalles,nombrecompleto:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,padron:e.padron,ci:e.cliente.ci,total:e.total})}))}))},imprimir:function(){var t=this;function e(t){var e=new Image;e.src="logo.jpg",o.addImage(e,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(5,1,"RESUMEN DIARIO DE INGRESOS"),o.text(5,1.5,"REGULACION URBANA DE "+t),o.text(1,3,"Nº COMPROBANTE"),o.text(4,3,"Nº TRAMITE"),o.text(6.5,3,"CONTRIBUYENTE"),o.text(11.5,3,"CI/RUN"),o.text(13.5,3,"UNIDAD"),o.text(17,3,"MONTO BS."),o.text(19,3,"CAJERO"),o.setFont(void 0,"normal")}var o=new Wt["a"]("p","cm","letter");o.setFont("courier"),o.setFontSize(9),e(this.fecha);var a=0;this.pagos.forEach((function(n){a+=.5,o.text(1,a+3,n.nrocomprobante),o.text(4,a+3,n.nrotramite),o.text(6.5,a+3,n.cliente),o.text(11.5,a+3,n.ci),o.text(13.5,a+3,n.unidad),o.text(17,a+3,n.total),o.text(19,a+3,n.cajero),a+3>25&&(o.addPage(),e(t.fecha),a=0)})),o.text(12,a+4,"TOTAL RECAUDADCION: "),o.text(18,a+4,this.total+"Bs"),o.save("Pago"+ie["a"].formatDate(Date.now(),"DD-MM-YYYY")+".pdf")},mispagos:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/mispagoscaja",{fecha:this.fecha}).then((function(e){console.log(e.data),t.$q.loading.hide(),t.pagos=[],e.data.forEach((function(e){t.pagos.push({nrotramite:e.nrotramite,unidad:e.unid.nombre,nrocomprobante:e.nrocomprobante,cliente:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,cajero:e.cajero,ci:e.cliente.ci,total:e.total})}))})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},cancelar:function(){var t=this;if(""==this.model)return this.$q.dialog({title:"Seleccione comprobante"}),!1;this.$q.loading.show(),this.$axios.put("http://localhost:8000/api/pagocaja/"+this.model.id).then((function(e){t.loscomprobantes(),console.log(e.data),t.$q.loading.hide(),t.model="",t.$q.dialog({title:"Cobro exitoso"}),t.mispagos()})).catch((function(e){t.$q.notify({icon:"error",color:"red",message:e.response.data.message}),t.$q.loading.hide()}))},filterFn:function(t,e){var o=this;e(""!==t?function(){var e=t.toLowerCase();o.options=o.comprobantes.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){o.options=o.comprobantes})}},computed:{total:function(){var t=0;return this.pagos.forEach((function(e){t+=parseFloat(e.total)})),t}}},Ie=ke,Se=Object(h["a"])(Ie,ye,$e,!1,null,null,null),Ee=Se.exports;B()(Se,"components",{QPage:G["a"],QSelect:at["a"],QItem:Q["a"],QItemSection:T["a"],QInput:ot["a"],QBtn:O["a"],QTable:it["a"]});var Ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("q-table",{attrs:{columns:t.columcomprobantes,title:"Comprobantes impresos",data:t.comprobantes},scopedSlots:t._u([{key:"body-cell-opcion",fn:function(e){return[o("q-td",{attrs:{props:e}},[o("q-btn",{attrs:{color:"red",label:"Anular",size:"md",icon:"refresh"},on:{click:function(o){return t.anular(e)}}})],1)]}}])})],1),o("div",{staticClass:"col-12 col-md-6 q-pa-xs"},[o("q-input",{attrs:{outlined:"",filled:"",type:"date",label:"Fecha de consulta"},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1),o("div",{staticClass:"col-12 col-md-6 q-pa-xs"},[o("q-btn",{staticClass:"full-width full-height ",attrs:{label:"Consultar",icon:"send",color:"warning"},on:{click:t.misanulados}})],1),o("div",{staticClass:"col-12 q-mt-ms"},[o("q-table",{attrs:{title:"Historial Anulados",columns:t.columns,data:t.anulados}})],1),o("div",{staticClass:"col-12"},[o("q-btn",{staticClass:"full-width",attrs:{color:"secondary",icon:"print",label:"Imprimir pagos"},on:{click:t.imprimir}})],1)])])},Oe=[],Re={data:function(){return{fecha:ie["a"].formatDate(Date.now(),"YYYY-MM-DD"),comprobantes:[],columcomprobantes:[{name:"id",label:"#",field:"id",sort:!0},{name:"nrocomprobante",label:"N Comprobante",field:"nrocomprobante",sort:!0},{name:"nrotramite",label:"N Tramite",field:"nrotramite",sort:!0},{name:"nombrecompleto",label:"Cliente",field:"nombrecompleto",sort:!0},{name:"unidad",label:"Unidad",field:"unidad",sort:!0},{name:"fecha",label:"Fecha",field:"fecha",sort:!0},{name:"opcion",label:"Opcion",field:"opcion",sort:!0}],columns:[{name:"id",label:"#",field:"id",sort:!0},{name:"nrocomprobante",label:"N Comprobante",field:"nrocomprobante",sort:!0},{name:"nrotramite",label:"N Tramite",field:"nrotramite",sort:!0},{name:"cliente",label:"Cliente",field:"cliente",sort:!0},{name:"unidad",label:"Unidad",field:"unidad",sort:!0},{name:"usuario",label:"Usuario",field:"usuario",sort:!0},{name:"fecha",label:"Fecha",field:"fecha",sort:!0}],anulados:[]}},created:function(){this.miscomprobante(),this.misanulados()},methods:{imprimir:function(){var t=this;function e(t){var e=new Image;e.src="logo.jpg",o.addImage(e,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(5,1,"RESUMEN DIARIO DE ANULADOS"),o.text(5,1.5,"REGULACION DE "+t),o.text(1,3,"Nº COMPROBANTE"),o.text(4,3,"Nº TRAMITE"),o.text(6.2,3,"CONTRIBUYENTE"),o.text(11.5,3,"UNIDAD"),o.text(15,3,"USUARIO"),o.text(17.5,3,"FECHA Y HORA"),o.setFont(void 0,"normal")}var o=new Wt["a"]("p","cm","letter");o.setFont("courier"),o.setFontSize(9),e(this.fecha);var a=0;this.anulados.forEach((function(n){a+=.5,o.text(1,a+3,n.nrocomprobante),o.text(4,a+3,n.nrotramite),o.text(6.2,a+3,n.cliente),o.text(11.5,a+3,n.unidad),o.text(15,a+3,n.usuario),o.text(17.5,a+3,n.fecha),a+3>25&&(o.addPage(),e(t.fecha),a=0)})),o.save("Anulados"+ie["a"].formatDate(Date.now(),"DD-MM-YYYY")+".pdf")},anular:function(t){var e=this;this.$q.dialog({title:"Seguro de anular?",cancel:!0}).onOk((function(){e.$axios.post("http://localhost:8000/api/anulado",{comprobante_id:t.row.id}).then((function(t){e.miscomprobante(),e.misanulados()}))}))},misanulados:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/anulado/"+this.fecha).then((function(e){console.log(e.data),t.$q.loading.hide(),t.anulados=[],e.data.forEach((function(e){t.anulados.push({id:e.id,fecha:e.fecha+" "+e.hora,nrocomprobante:e.nrocomprobante,nrotramite:e.comprobante.nrotramite,cliente:e.comprobante.cliente.paterno+" "+e.comprobante.cliente.materno+" "+e.comprobante.cliente.nombre,unidad:e.unid.nombre,usuario:e.user.name})}))}))},miscomprobante:function(){var t=this;this.$q.loading.show(),this.$axios.get("http://localhost:8000/api/anulado/create").then((function(e){t.$q.loading.hide(),t.comprobantes=[],e.data.forEach((function(e){t.comprobantes.push({label:e.padron+" "+e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,id:e.id,fecha:e.fecha,unidad:e.unid.nombre,nrocomprobante:e.nrocomprobante,nrotramite:e.nrotramite,detalles:e.detalles,nombrecompleto:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,padron:e.padron,ci:e.cliente.ci,total:e.total})}))}))}}},De=Re,Ae=Object(h["a"])(De,Ne,Oe,!1,null,null,null),Pe=Ae.exports;B()(Ae,"components",{QPage:G["a"],QBtn:O["a"],QTable:it["a"],QTd:Nt["a"],QInput:ot["a"]});var Qe=function(){var t=this,e=this,o=e.$createElement,a=e._self._c||o;return a("q-page",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("q-form",{on:{submit:e.imprimir}},[a("div",{staticClass:"col-3 col-sm-12"},[a("q-input",{attrs:{type:"date",label:"Fecha Inicial","lazy-rules":"",rules:[function(e){return e&&e.length>0&&e<=t.fecha.fin||"Ingrese la fecha correcta"}]},model:{value:e.fecha.inicio,callback:function(t){e.$set(e.fecha,"inicio",t)},expression:"fecha.inicio"}})],1),a("div",{staticClass:"col-3 col-sm-12"},[a("q-input",{attrs:{type:"date",label:"Fecha Final","lazy-rules":"",rules:[function(e){return e&&e.length>0&&e>=t.fecha.inicio||"Ingrese la fecha correcta"}]},model:{value:e.fecha.fin,callback:function(t){e.$set(e.fecha,"fin",t)},expression:"fecha.fin"}})],1),a("div",{staticClass:"col-12 q-pt-md"},[a("q-btn",{staticClass:"full-width",attrs:{type:"submit",color:"secondary",icon:"print",label:"Imprimir"}})],1)])],1)])},Te=[],Me=(o("1276"),{data:function(){return{model:"",un:"",opunid:[],literal:"",fecha:{inicio:ie["a"].formatDate(Date.now(),"YYYY-MM-DD"),fin:ie["a"].formatDate(Date.now(),"YYYY-MM-DD")},ahora:ie["a"].formatDate(Date.now(),"YYYY-MM-DD"),options:[],nrocomprobante:"",columns:[{name:"codsubitem",label:"Codigo",align:"left",field:"codsubitem",sortable:!0},{name:"referencia",label:"Referencia",align:"left",field:"detalle",sortable:!0},{name:"precio",label:"Precio",align:"left",field:"precio",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cantidad",label:"Cantidad",align:"left",field:"cantidad",sortable:!0},{name:"subtotal",label:"Subtotal",align:"left",field:"subtotal",format:function(t){return"".concat(t," Bs")},sortable:!0}],pcolumns:[{name:"nrocomprobante",label:"Numero comprobante",align:"left",field:"nrocomprobante",sortable:!0},{name:"nrotramite",label:"Numero tramite",align:"left",field:"nrotramite",sortable:!0},{name:"cliente",label:"Contribuyente",align:"left",field:"cliente",sortable:!0},{name:"ci",label:"Carnet identidad",align:"left",field:"ci",sortable:!0},{name:"total",label:"Monto",align:"left",field:"total",format:function(t){return"".concat(t," Bs")},sortable:!0},{name:"cajero",label:"Cajero",align:"left",field:"cajero",sortable:!0}],comprobantes:[],pagos:[]}},created:function(){this.unidades(),this.mispagos()},methods:{imprimir:function(){var t=this;function e(t,e,a,n){var i=new Image;i.src="logo.jpg",o.addImage(i,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(3,1,"H. GOBIERNO MUNICIPAL DE ORURO"),o.text(3,1.5,"  JEFATURA DE RECAUDACIONES"),o.text(15,1.5,"Fecha de Proceso "+e),o.text(8,2.5,"RESUMEN DIARIO DE INGRESOS DE LA UNIDAD DE"),o.text(8,3,t+" DEL "+a+" AL "+n),o.setFontSize(6),o.text(.5,4,"FECHA DE PAGO"),o.text(3,4,"Nº COMPROBANTE"),o.text(5,4,"Nº TRAMITE"),o.text(7,4,"CONTRIBUYENTE"),o.text(16,4,"CI / RUN / RUC"),o.text(18,4,"MONTO BS."),o.text(20,4,"USUARIO"),o.setFont(void 0,"normal"),o.setFontSize(9)}var o=new Wt["a"]("p","cm","letter");o.setFont("courier"),o.setFontSize(9),e(this.$store.state.user.unid.nombre,this.ahora,this.fecha.inicio,this.fecha.fin),this.$axios.post("http://localhost:8000/api/misimpreso",this.fecha).then((function(a){console.log(a.data),t.pagos=[],a.data.forEach((function(e){t.pagos.push({fechaimpreso:e.fechaimpreso,nrotramite:e.nrotramite,nrocomprobante:e.nrocomprobante,cliente:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,usuarioimp:e.usuarioimp,ci:e.cliente.ci,total:e.total})})),o.setFontSize(6);var n=0;t.pagos.forEach((function(a){n+=.5,o.text(1,n+4,a.fechaimpreso),o.text(3,n+4,a.nrocomprobante),o.text(5,n+4,a.nrotramite),o.text(7,n+4,a.cliente),o.text(16,n+4,a.ci),o.text(18,n+4,a.total),o.text(20,n+4,a.usuarioimp),n+4>25&&(o.addPage(),e(t.$store.state.user.unid.nombre,t.ahora,t.fecha.inicio,t.fecha.fin),n=0)}));var i=t.total.toString().split(".");t.$axios.post("http://localhost:8000/api/convertirletra/"+i[0]).then((function(e){console.log(e.data),t.literal=e.data,o.setFontSize(9),null!=i[1]&&""!=i[1]||(i[1]=0),o.text(1,n+4.5,"SON: "+t.literal+" "+i[1]+"/100 Bs"),o.text(12,n+4.5,"TOTAL RECAUDADCION: "),o.text(18,n+4.5,t.total+"Bs"),o.setFontSize(6),n+=4.5,o.text(1,n+4,"____________________                     _____________________________                    ________________________ "),o.text(1,n+4.5,"FIRMA Y SELLO CAJERO                     FIRMA Y SELLO CONTROL INTERNO                    FIRMA Y SELLO LIQUIDADOR"),o.save("Pago"+ie["a"].formatDate(Date.now(),"DD-MM-YYYY")+".pdf")}))})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},unidades:function(){var t=this;this.opunid=[],this.$axios.get("http://localhost:8000/api/unid").then((function(e){e.data.forEach((function(e){t.opunid.push({label:e.nombre,value:e.id})}))}))},miscomprobante:function(){var t=this;this.$axios.post("http://localhost:8000/api/buscarimpreso2",{unid_id:this.un.value}).then((function(e){console.log(e.data),t.comprobantes=[],e.data.forEach((function(e){t.comprobantes.push({label:"padron:"+e.varios+" "+e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre+" nro:"+e.nrocomprobante,id:e.id,detalles:e.detalles,nombrecompleto:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,padron:e.padron,ci:e.cliente.ci,total:e.total})}))}))},mispagos:function(){var t=this;this.$q.loading.show(),this.$axios.post("http://localhost:8000/api/mispagos",{fecha:this.fecha}).then((function(e){t.$q.loading.hide(),t.pagos=[],e.data.forEach((function(e){t.pagos.push({nrotramite:e.nrotramite,nrocomprobante:e.nrocomprobante,cliente:e.cliente.paterno+" "+e.cliente.materno+" "+e.cliente.nombre,cajero:e.cajero,ci:e.cliente.ci,total:e.total})}))})).catch((function(e){t.$q.notify({message:e.response.data.message,color:"red",icon:"error"})}))},cancelar:function(){var t=this;return""==this.model?(this.$q.dialog({title:"Seleccione comprobante"}),!1):parseInt(this.nrocomprobante)<parseInt(this.$store.state.user.unid.inicio)||parseInt(this.nrocomprobante)>parseInt(this.$store.state.user.unid.fin)?(this.$q.dialog({title:"Rango de comprobantes no permitidos"}),!1):(this.$q.loading.show(),void this.$axios.put("http://localhost:8000/api/pago/"+this.model.id,{nrocomprobante:this.nrocomprobante}).then((function(e){t.$q.loading.hide(),t.model="",t.$q.dialog({title:"Cobro exitoso"}),t.miscomprobante(),t.mispagos()})).catch((function(e){t.$q.notify({icon:"error",color:"red",message:e.response.data.message}),t.$q.loading.hide()})))},filterFn:function(t,e){var o=this;e(""!==t?function(){var e=t.toLowerCase();o.options=o.comprobantes.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){o.options=o.comprobantes})}},computed:{total:function(){var t=0;return this.pagos.forEach((function(e){t+=parseFloat(e.total)})),t}}}),Fe=Me,je=Object(h["a"])(Fe,Qe,Te,!1,null,"5300e152",null),Be=je.exports;B()(je,"components",{QPage:G["a"],QForm:et["a"],QInput:ot["a"],QBtn:O["a"]});var ze=[{path:"/",component:U,children:[{path:"",component:Z},{path:"/login",component:gt},{path:"/Secure",component:rt,meta:{requiresAuth:!0}},{path:"/Cliente",component:wt,meta:{requiresAuth:!0}},{path:"/Item",component:Pt,meta:{requiresAuth:!0}},{path:"/Empresa",component:Bt,meta:{requiresAuth:!0}},{path:"/Unid",component:Ht,meta:{requiresAuth:!0}},{path:"/pago",component:oe,meta:{requiresAuth:!0}},{path:"/user",component:ue,meta:{requiresAuth:!0}},{path:"/cancelar",component:ge,meta:{requiresAuth:!0}},{path:"/verificar",component:we,meta:{requiresAuth:!0}},{path:"/pagocaja",component:Ee,meta:{requiresAuth:!0}},{path:"/anular",component:Pe,meta:{requiresAuth:!0}},{path:"/resumen",component:Be,meta:{requiresAuth:!0}}]},{path:"*",component:function(){return o.e(2).then(o.bind(null,"e51e"))}}],Ue=ze;i["a"].use(w["a"]);var Ye=function(){var t=new w["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:Ue,mode:"hash",base:""});return t.beforeEach((function(t,e,o){if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(_.getters.isLoggedIn)return void o();o("/login")}else o()})),t},Le=function(){return Ve.apply(this,arguments)};function Ve(){return Ve=n()(regeneratorRuntime.mark((function t(){var e,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof _){t.next=6;break}return t.next=3,_({Vue:i["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=_;case 7:if(e=t.t0,"function"!==typeof Ye){t.next=14;break}return t.next=11,Ye({Vue:i["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=Ye;case 15:return o=t.t1,e.$router=o,a={router:o,store:e,render:function(t){return t(v)}},a.el="#q-app",t.abrupt("return",{app:a,store:e,router:o});case 20:case"end":return t.stop()}}),t)}))),Ve.apply(this,arguments)}i["a"].prototype.$axios=C.a;var He=localStorage.getItem("token");He&&(i["a"].prototype.$axios.defaults.headers.common["Authorization"]="Bearer "+He,i["a"].prototype.$axios.post("http://localhost:8000/api/me").then((function(t){_.commit("auth_success",{token:He,user:t.data})})));var Ge="";function Je(){return Ze.apply(this,arguments)}function Ze(){return Ze=n()(regeneratorRuntime.mark((function t(){var e,o,a,n,l,r,s,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Le();case 2:e=t.sent,o=e.app,a=e.store,n=e.router,l=!1,r=function(t){l=!0;var e=Object(t)===t?n.resolve(t).route.fullPath:t;window.location.href=e},s=window.location.href.replace(window.location.origin,""),c=[void 0],d=0;case 11:if(!(!1===l&&d<c.length)){t.next=29;break}if("function"===typeof c[d]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,c[d]({app:o,router:n,store:a,Vue:i["a"],ssrContext:null,redirect:r,urlPath:s,publicPath:Ge});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:d++,t.next=11;break;case 29:if(!0!==l){t.next=31;break}return t.abrupt("return");case 31:new i["a"](o);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),Ze.apply(this,arguments)}Je()},"31cd":function(t,e,o){},"6cce":function(t,e,o){},f8bf:function(t,e,o){t.exports=o.p+"img/gamo.f6253de7.jpg"}});